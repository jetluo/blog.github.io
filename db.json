{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/book/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/book/source/css/book.scss","path":"css/book.scss","modified":0,"renderable":1},{"_id":"themes/book/source/js/book-menu.js","path":"js/book-menu.js","modified":0,"renderable":1},{"_id":"themes/book/source/js/book-post.js","path":"js/book-post.js","modified":0,"renderable":1},{"_id":"themes/book/source/js/book-toc.js","path":"js/book-toc.js","modified":0,"renderable":1},{"_id":"themes/book/source/js/book.js","path":"js/book.js","modified":0,"renderable":1},{"_id":"source/docker/assets/1.ccs-in-k8s-230b019e.png","path":"docker/assets/1.ccs-in-k8s-230b019e.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.ccs-in-k8s-5764c11c.png","path":"docker/assets/1.ccs-in-k8s-5764c11c.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.ccs-in-k8s-7aa18d7d.png","path":"docker/assets/1.ccs-in-k8s-7aa18d7d.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.ccs-in-k8s-a727e2c5.png","path":"docker/assets/1.ccs-in-k8s-a727e2c5.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.ccs-in-k8s-dbe82e59.png","path":"docker/assets/1.ccs-in-k8s-dbe82e59.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.ccs-in-k8s-e5f22393.png","path":"docker/assets/1.ccs-in-k8s-e5f22393.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.docker-infrustructure-75c043e9.png","path":"docker/assets/1.docker-infrustructure-75c043e9.png","modified":0,"renderable":0},{"_id":"source/docker/assets/1.docker-infrustructure-8f80df54.png","path":"docker/assets/1.docker-infrustructure-8f80df54.png","modified":0,"renderable":0},{"_id":"source/docker/assets/2.what-docker-todo-372ee802.png","path":"docker/assets/2.what-docker-todo-372ee802.png","modified":0,"renderable":0},{"_id":"source/docker/assets/2.what-docker-todo-860e7fc0.png","path":"docker/assets/2.what-docker-todo-860e7fc0.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.2docker-build-dockerfile-0159e81f.png","path":"docker/assets/3.1.2docker-build-dockerfile-0159e81f.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-0a13bf6d.png","path":"docker/assets/3.1.docker-build-client-0a13bf6d.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-22c49142.png","path":"docker/assets/3.1.docker-build-client-22c49142.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-2832e624.png","path":"docker/assets/3.1.docker-build-client-2832e624.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-2fb8c48f.png","path":"docker/assets/3.1.docker-build-client-2fb8c48f.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-55282df1.png","path":"docker/assets/3.1.docker-build-client-55282df1.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-5c442ad0.png","path":"docker/assets/3.1.docker-build-client-5c442ad0.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-70a13111.png","path":"docker/assets/3.1.docker-build-client-70a13111.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-af040c46.png","path":"docker/assets/3.1.docker-build-client-af040c46.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-af64f5a8.png","path":"docker/assets/3.1.docker-build-client-af64f5a8.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-client-fcd4285e.png","path":"docker/assets/3.1.docker-build-client-fcd4285e.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-51113ade.png","path":"docker/assets/3.1.docker-build-dockerfile-51113ade.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-5738e6c7.png","path":"docker/assets/3.1.docker-build-dockerfile-5738e6c7.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-95b57c00.png","path":"docker/assets/3.1.docker-build-dockerfile-95b57c00.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-d866744b.png","path":"docker/assets/3.1.docker-build-dockerfile-d866744b.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.2.docker-build-cloud-6357415e.png","path":"docker/assets/3.2.docker-build-cloud-6357415e.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.2.docker-build-cloud-74350e49.png","path":"docker/assets/3.2.docker-build-cloud-74350e49.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.2.docker-build-cloud-81f63f76.png","path":"docker/assets/3.2.docker-build-cloud-81f63f76.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.2.docker-build-cloud-d6ef43c8.png","path":"docker/assets/3.2.docker-build-cloud-d6ef43c8.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.3.docker-build-war-1c2f92f2.png","path":"docker/assets/3.3.docker-build-war-1c2f92f2.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.4.docker-build-npm-288a73a3.png","path":"docker/assets/3.4.docker-build-npm-288a73a3.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.5.docker-build-go-cab4c619.png","path":"docker/assets/3.5.docker-build-go-cab4c619.png","modified":0,"renderable":0},{"_id":"source/docker/assets/3.storage-in-k8s-2397258e.png","path":"docker/assets/3.storage-in-k8s-2397258e.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.1.docker-monitor-5ea2e6e9.png","path":"docker/assets/5.1.docker-monitor-5ea2e6e9.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.1.docker-monitor-78f4468e.png","path":"docker/assets/5.1.docker-monitor-78f4468e.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.1.docker-monitor-963b5ef4.png","path":"docker/assets/5.1.docker-monitor-963b5ef4.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.1.docker-monitor-980df022.png","path":"docker/assets/5.1.docker-monitor-980df022.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.2.docker-resource-036307e8.png","path":"docker/assets/5.2.docker-resource-036307e8.png","modified":0,"renderable":0},{"_id":"source/docker/assets/5.2.docker-resource-6c92d7e0.png","path":"docker/assets/5.2.docker-resource-6c92d7e0.png","modified":0,"renderable":0},{"_id":"source/docker/assets/README-3eade5a3.png","path":"docker/assets/README-3eade5a3.png","modified":0,"renderable":0},{"_id":"source/docker/assets/README-52116020.png","path":"docker/assets/README-52116020.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"99888433db33930d87b953280ecdbc0167271da2","modified":1626510341686},{"_id":"source/home.md","hash":"db4eda184d892f66c2ef5e9cee62cc6c2b3499b3","modified":1626503339696},{"_id":"source/menu.md","hash":"b27b450d700c1b79616f472ec3351b78c8afcc54","modified":1626503124529},{"_id":"source/_posts/My-New-Post.md","hash":"a4f414c3b36a038151cf27fc31910497a4e14ed9","modified":1626448389444},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1626448258815},{"_id":"source/docker/.DS_Store","hash":"bc583c2714568df07b41453adb00208486c5315b","modified":1626503299529},{"_id":"source/docker/1.ccs-in-k8s.md","hash":"5e6d895cc66c21c2ec39831f4b09c0937de381f1","modified":1610587165938},{"_id":"source/docker/1.docker-infrustructure.md","hash":"29e23f1f47365285a5e2621799d25cdc8fa8e131","modified":1610587165828},{"_id":"source/docker/2.database-in-k8s.md","hash":"91a42263c267593a7ff87f05cd25c663f6c84eef","modified":1610587165940},{"_id":"source/docker/2.what-docker-todo.md","hash":"5899b2d51382286d09bfb10acba1197fcb1e6e22","modified":1610587166017},{"_id":"source/docker/3.1.1docker-build-client.md","hash":"4de832403aac89cad054ad9cc59c2fa6b67a2c82","modified":1610587165942},{"_id":"source/docker/3.1.2docker-build-dockerfile.md","hash":"d0c6313a0099aef702e7e0ccebbb2038a988b1a5","modified":1610587165830},{"_id":"source/docker/3.1.docker-build.md","hash":"be7fab4cb4088b10788fff25000a4a639d1dbb0d","modified":1610587166020},{"_id":"source/docker/3.2.docker-build-cloud.md","hash":"c880aae9e91c9d0406845e9dad8ea3b5b38c9787","modified":1610587165831},{"_id":"source/docker/3.3.docker-build-war.md","hash":"9bf41602a4a7166f5ae0ec6c70ed01b814a7354a","modified":1610587166024},{"_id":"source/docker/3.4.docker-build-npm.md","hash":"982c95ec8e16bc2d2deef8228c596e7801ae206c","modified":1610587166026},{"_id":"source/docker/3.5.docker-build-go.md","hash":"8ebcc37d30558be86314baeec4ab9e680d946fe1","modified":1610587166029},{"_id":"source/docker/3.6.docker-build-skill.md","hash":"b16516a10dae06861d97ad6cc8a5469fab1c2aa9","modified":1610587166031},{"_id":"source/docker/3.docker-practice.md","hash":"e3e4bcc88db26dd1e6d6ba66d24291f17a63e2e0","modified":1610587166034},{"_id":"source/docker/3.storage-in-k8s.md","hash":"9daa785a27a2625ffa2bc3a4d1f6cc5c19a9622f","modified":1610587165999},{"_id":"source/docker/4.1.docker-monitor.md","hash":"cd836cb7cf88ca4864980dfe7d9578e6eec47e9d","modified":1610587166001},{"_id":"source/docker/4.2.docker-resource.md","hash":"42c975fed007ed770b0ff6f172c7ed15933a514d","modified":1610587166005},{"_id":"source/docker/4.docker-diagnose.md","hash":"976be9a336b2a7c1b0930016c5f9766e0eb40611","modified":1610587166008},{"_id":"source/docker/My-New-Post.md","hash":"a4f414c3b36a038151cf27fc31910497a4e14ed9","modified":1626452716759},{"_id":"source/docker/README.md","hash":"b371912131e1a0e45814cdd41af3a2767107e079","modified":1626509048527},{"_id":"source/docker/assets/2.what-docker-todo-372ee802.png","hash":"ec120b7a422e6ce17e5f44a7852215dbb7a3ddc0","modified":1610587165867},{"_id":"source/docker/assets/3.1.docker-build-client-55282df1.png","hash":"146900cc5c6d82d681f5689af4aab59a99dde3fd","modified":1610587165882},{"_id":"source/docker/assets/3.1.docker-build-client-5c442ad0.png","hash":"6ba05287976934bb5a2e9039a51370b73f370927","modified":1610587165885},{"_id":"source/docker/assets/3.1.docker-build-client-70a13111.png","hash":"e1922e6e8d3ea8a3c2e95a4402eb5ac83c15256e","modified":1610587165888},{"_id":"source/docker/assets/3.1.docker-build-client-fcd4285e.png","hash":"3e6d72c6eb92bd92d31a877e9aa974ce8a80c93b","modified":1610587165896},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-51113ade.png","hash":"67dd3c24e7fe2a1ede0e2a0b90db66367392954b","modified":1610587165898},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-d866744b.png","hash":"f21640383ea281dfe15c2f3f666c4fd3eec28307","modified":1610587165903},{"_id":"source/docker/assets/3.2.docker-build-cloud-d6ef43c8.png","hash":"f92e29f7aa3c3419afc8c99e6bd2a1f49c8c2f3c","modified":1610587165913},{"_id":"source/docker/assets/3.3.docker-build-war-1c2f92f2.png","hash":"49d99f1ffbd9a8088bed9d8b31f5f54c062a79d4","modified":1610587165915},{"_id":"source/docker/assets/3.4.docker-build-npm-288a73a3.png","hash":"0e23191e751ae47ea3bcfebe980c6d14f9e0912d","modified":1610587165916},{"_id":"source/docker/assets/3.5.docker-build-go-cab4c619.png","hash":"17fb001103cef75a151f3abe21b23218256697f9","modified":1610587165919},{"_id":"source/docker/assets/5.1.docker-monitor-5ea2e6e9.png","hash":"6310ede04f13eaef97d9bbb8cee9c34170f81932","modified":1610587165921},{"_id":"source/docker/assets/5.1.docker-monitor-963b5ef4.png","hash":"98490b860b9cc072a6dc5b6ff3bf27e4e52b7641","modified":1610587165926},{"_id":"source/docker/assets/5.2.docker-resource-6c92d7e0.png","hash":"1167c46e4e15d05e1d0b4c5ad69aba5acb43d667","modified":1610587165933},{"_id":"source/docker/assets/README-3eade5a3.png","hash":"41837cb220654a047c4443349c67b7d29b839680","modified":1610587165935},{"_id":"source/docker/assets/README-52116020.png","hash":"0d2082a2f9d0a527eb93a5424e77c9b6e0ff856b","modified":1610587165937},{"_id":"source/docker/assets/1.ccs-in-k8s-230b019e.png","hash":"0d4c8862c5d18d0ea00b408279d708efcc6d1ba9","modified":1610587165854},{"_id":"source/docker/assets/1.docker-infrustructure-75c043e9.png","hash":"0391d9b41fa9e4d0b5b3f4382d4b8c571827e0cc","modified":1610587165861},{"_id":"source/docker/assets/1.docker-infrustructure-8f80df54.png","hash":"a9f13780b16692b3f5bdcba123e3fd34fc2c75d7","modified":1610587165864},{"_id":"source/docker/assets/3.1.2docker-build-dockerfile-0159e81f.png","hash":"d9e989d2df4a5cf48d043f1b97986cf5afab87b7","modified":1610587165837},{"_id":"source/docker/assets/3.1.docker-build-client-2832e624.png","hash":"c18557e773c72011a78c92465a967beaecaef591","modified":1610587165879},{"_id":"source/docker/assets/3.1.docker-build-client-2fb8c48f.png","hash":"e20153adf98b03e1b0e470cf06e8a1c8de382842","modified":1610587165881},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-5738e6c7.png","hash":"3975ca9ee44213fb7b399874a3e3f664fac26fbb","modified":1610587165900},{"_id":"source/docker/assets/3.1.docker-build-dockerfile-95b57c00.png","hash":"a36087caee45f8d63515fef0c02e93df96d90762","modified":1610587165902},{"_id":"source/docker/assets/3.2.docker-build-cloud-6357415e.png","hash":"7bfe8f4d8d0c403231b88e179938591aa2d4c3db","modified":1610587165906},{"_id":"source/docker/assets/3.2.docker-build-cloud-81f63f76.png","hash":"d68e64e19bf89baea72b4b43964f3ee35ff6c394","modified":1610587165911},{"_id":"source/docker/assets/5.2.docker-resource-036307e8.png","hash":"ce01ef434af2a4a5a25cfcc1ec3df6c271cbecf0","modified":1610587165931},{"_id":"source/docker/assets/1.ccs-in-k8s-5764c11c.png","hash":"a62418eafe0bffeebfddc484ceba572b1daf8f92","modified":1610587165857},{"_id":"source/docker/assets/1.ccs-in-k8s-7aa18d7d.png","hash":"fd44d81094fcffb284907497c223b661616ebff8","modified":1610587165840},{"_id":"source/docker/assets/3.1.docker-build-client-0a13bf6d.png","hash":"367f173db9ffcf55a5ccdc7376210fba23c059ed","modified":1610587165874},{"_id":"source/docker/assets/3.1.docker-build-client-af64f5a8.png","hash":"321616ea31cc75ae8955415148ec48e1814fd3f0","modified":1610587165894},{"_id":"source/docker/assets/3.2.docker-build-cloud-74350e49.png","hash":"26988fbee1143bd7269d2318455bd8b7f8c363ac","modified":1610587165909},{"_id":"source/docker/assets/3.storage-in-k8s-2397258e.png","hash":"b20be5c44e33585e2a45ae6626e6885cde9583d0","modified":1610587165852},{"_id":"source/docker/assets/1.ccs-in-k8s-e5f22393.png","hash":"7a2d78569ad7f8fd491a4bce8747a57bc59035e3","modified":1610587165849},{"_id":"source/docker/assets/3.1.docker-build-client-22c49142.png","hash":"03a390e566cc2ff41b289457e3d84d7cc3c00fe7","modified":1610587165876},{"_id":"source/docker/assets/5.1.docker-monitor-78f4468e.png","hash":"8b99d9c8d7d88e5444cf39b20431eeffedca9fa8","modified":1610587165924},{"_id":"source/docker/assets/5.1.docker-monitor-980df022.png","hash":"74ac17b153e1b0cda6dbb521e2008c295e6419a8","modified":1610587165928},{"_id":"themes/book/layout/index.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1626577537294},{"_id":"source/docker/assets/1.ccs-in-k8s-a727e2c5.png","hash":"6998a08e2c4fde2fa05a822535a101d3a1920f64","modified":1610587165843},{"_id":"source/docker/assets/1.ccs-in-k8s-dbe82e59.png","hash":"c13d70269aa7d179344826c3d1a797efa136380f","modified":1610587165846},{"_id":"themes/book/LICENSE","hash":"03157c4b6e91d27f69508dbdc62c09bc38fd78fc","modified":1626448934334},{"_id":"themes/book/README.md","hash":"aeece538443aff02fedebace7a6057d30e93309a","modified":1626448934334},{"_id":"themes/book/_config.yml","hash":"3be87c4ad50e3bba97091ac6d0442075fefcdc7b","modified":1626537254676},{"_id":"themes/book/layout/archive.ejs","hash":"dec48c24f9f94a2ddd733f70a96fba0886f563e5","modified":1626448934336},{"_id":"themes/book/layout/categories.ejs","hash":"e3e1aa97b9a21f5bd85c4f0c56d79e7096eda48c","modified":1626448934337},{"_id":"themes/book/layout/layout.ejs","hash":"c7ac56a20341d5c3314784bc2ec410cc97ac87dc","modified":1626577375532},{"_id":"themes/book/layout/page.ejs","hash":"2e53811dda487a8faf75b3c3372fc8b8726d1f55","modified":1626448934337},{"_id":"themes/book/layout/post.ejs","hash":"37ea12159553023f07d1f99815a5a9b82a9c3ef7","modified":1626448934337},{"_id":"themes/book/layout/tags.ejs","hash":"f2744252f6de3451c19d695f8f518c5a054f58b7","modified":1626448934337},{"_id":"themes/book/source/favicon.png","hash":"1214709f0131cc39ee30e0b44ad54fc0a74d3658","modified":1626448934344},{"_id":"themes/book/scripts/merge-configs.js","hash":"73d4d9c35cedfe4ed99c849c73fcee4012738a1c","modified":1626448934338},{"_id":"themes/book/scripts/render.js","hash":"0190cae64d12ac47b601b9fb0f1434a09c5ac168","modified":1626448934338},{"_id":"themes/book/layout/_lib/comments.ejs","hash":"823afb4dcbee4e8b2258671aaf1332fed038774e","modified":1626448934335},{"_id":"themes/book/layout/_lib/google-analytics.ejs","hash":"8fac33b80001d1eba38ec7f35e9bd22d79705f43","modified":1626448934336},{"_id":"themes/book/layout/_lib/zooming-image.ejs","hash":"c9b2c4772bac30ca2a8939e6e305c9c9397d9003","modified":1626448934336},{"_id":"themes/book/layout/_components/brand.ejs","hash":"a5272fbc584e7b89c0ccf205661e90f2c99354a1","modified":1626448934335},{"_id":"themes/book/layout/_components/menu.ejs","hash":"c2c0efd59fed898cb41ad6a0ec94c49aca3e7fea","modified":1626448934335},{"_id":"themes/book/layout/_components/post-meta.ejs","hash":"243532bf3d848291cb191331910e97b9a6b40bfa","modified":1626448934335},{"_id":"themes/book/layout/_components/sidebar-toggle.ejs","hash":"53d6fc0e8bfb8f36942d2d7afcbb306dd0f89c31","modified":1626448934335},{"_id":"themes/book/layout/_components/toc.ejs","hash":"92259942c0cbe60ede9db992f7142206e93431f2","modified":1626448934335},{"_id":"themes/book/layout/_partials/head.ejs","hash":"7348521bef7ef79bfb4b3dbf005adfa4ba42ba17","modified":1626448934336},{"_id":"themes/book/layout/_partials/navbar.ejs","hash":"10eae8b5ed78e82a38b58d9525422f10b9be89cf","modified":1626448934336},{"_id":"themes/book/layout/_partials/post-info.ejs","hash":"d9ff5a91882a47ceb2144dcdccdd9b56191e4228","modified":1626448934336},{"_id":"themes/book/source/css/_variables.scss","hash":"1e24fa7f2467f06be7ab6d034a47ff2438384d51","modified":1626448934343},{"_id":"themes/book/source/css/book.scss","hash":"cac0f32677c1e3ede2700a0dd02dec6aba6997cd","modified":1626448934343},{"_id":"themes/book/source/js/book-menu.js","hash":"deebd62833f484c84e08357291ccc797c7544eb6","modified":1626448934345},{"_id":"themes/book/source/js/book-post.js","hash":"d239e79163ceb5a37c9274c0c83010eea80554d8","modified":1626448934345},{"_id":"themes/book/source/js/book-toc.js","hash":"fcbf2a88d9bab50dbd1337150a5909e8b9eecd13","modified":1626448934346},{"_id":"themes/book/source/js/book.js","hash":"c150427c7397aea35ad83624f8db8f4b19846bb6","modified":1626448934346},{"_id":"themes/book/source/css/_components/brand.scss","hash":"d6d944b2ce367bc67249dcb917c2a36df2c7d285","modified":1626448934338},{"_id":"themes/book/source/css/_components/comments.scss","hash":"1e5204db1a98e70ccb3027df8eb5a0fbfa3530c1","modified":1626448934338},{"_id":"themes/book/source/css/_components/menu.scss","hash":"0b9ba0d7f5df5f9a1a4321b9f5ede89fc92be0b4","modified":1626448934339},{"_id":"themes/book/source/css/_components/post-meta.scss","hash":"489673d51d470fc6c47c0c5e942fb027f6f9846b","modified":1626448934339},{"_id":"themes/book/source/css/_components/post.scss","hash":"ad6e61a4a7fa6259577dc34263be727a4afc8b03","modified":1626448934339},{"_id":"themes/book/source/css/_components/sidebar-toggle.scss","hash":"9f1d81d4e98c0c2f62a17512bbd7fbdff59d5bfc","modified":1626448934340},{"_id":"themes/book/source/css/_components/toc.scss","hash":"30c6fa4a4d9ed70b43ac26bd869ac8f58e3e0214","modified":1626448934340},{"_id":"themes/book/source/css/_partials/book-archive.scss","hash":"c5ac27a8769860174af70d8111b2c2beee2921d6","modified":1626448934340},{"_id":"themes/book/source/css/_partials/book-content.scss","hash":"8e7a53eb11d87925d2bf940bb29ea5a9ea8a22f4","modified":1626448934341},{"_id":"themes/book/source/css/_partials/book-navbar.scss","hash":"c7311a76fc29a262ed03091661b4dea30d53d4f7","modified":1626448934341},{"_id":"themes/book/source/css/_partials/book-sidebar.scss","hash":"3e4b1b06404b084df7cbc4a31cfaf7db3594e75c","modified":1626448934342},{"_id":"themes/book/source/css/_components/highlight/diff.scss","hash":"e1a087d44e499beb05d0906b8a64fff62a7ba01d","modified":1626448934339},{"_id":"themes/book/source/css/_components/highlight/highlight.scss","hash":"5d7851dec993537f0e32d0301bae70ac0ccbb52d","modified":1626448934339},{"_id":"themes/book/source/css/_components/highlight/theme.scss","hash":"ec78a76370e44d9f1978c6f4ec2f3d523286f23a","modified":1626448934339},{"_id":"source/docker/assets/3.1.docker-build-client-af040c46.png","hash":"25719202f6c9d7a6f9e8b8b416904141fc5166e2","modified":1610587165891},{"_id":"source/docker/assets/2.what-docker-todo-860e7fc0.png","hash":"d258ea6c8d0f18d71e8d2c61687b91a8152afea1","modified":1610587165871},{"_id":"public/docker/1.docker-infrustructure.html","hash":"8910ea458ee559ced8818cd87f4e5531358414f8","modified":1626577543075},{"_id":"public/docker/1.ccs-in-k8s.html","hash":"3fce2f5b1c22395d7db3728719a36909541c8d25","modified":1626577543075},{"_id":"public/docker/2.what-docker-todo.html","hash":"c73959560a0fc9e58a01335db7f47715eec21108","modified":1626577543075},{"_id":"public/docker/2.database-in-k8s.html","hash":"6597f962ed5c7d43f383969d8a779bde2bcad11e","modified":1626577543075},{"_id":"public/docker/3.1.docker-build.html","hash":"f9b1e6d8595891b8f9c43c53741c922327de0d1e","modified":1626577543075},{"_id":"public/docker/3.1.2docker-build-dockerfile.html","hash":"79da4cd7732525176a3235a65cc475cca3c3c85d","modified":1626577543075},{"_id":"public/docker/3.3.docker-build-war.html","hash":"2a9e7014d8799aa543476ea676917bb215a9384e","modified":1626577543075},{"_id":"public/docker/3.4.docker-build-npm.html","hash":"444c6f41e9108b630b77ce2c0319a790275d0188","modified":1626577543075},{"_id":"public/docker/3.5.docker-build-go.html","hash":"b89e88c9251657adc6313f27fc4564d3987033b2","modified":1626577543075},{"_id":"public/docker/3.6.docker-build-skill.html","hash":"f4e7ab4fff40f2b0bfe7686eb4480ce6ae1813a5","modified":1626577543075},{"_id":"public/docker/3.storage-in-k8s.html","hash":"27ec870dc933b5d40d047a25e7d19c5fbe05188a","modified":1626577543075},{"_id":"public/docker/4.2.docker-resource.html","hash":"15c5899e4df136de172bc37e16ce14162b606789","modified":1626577543075},{"_id":"public/docker/3.docker-practice.html","hash":"3b84ef8b224e5498ad1f77d1d91eb242169d6a63","modified":1626577543075},{"_id":"public/docker/README.html","hash":"414c5242efc8dbc127c1773666a2e3e3a513c069","modified":1626577543075},{"_id":"public/docker/My-New-Post.html","hash":"d9a9d66473233a1bd866adae7c6e28c5ba34c162","modified":1626577543075},{"_id":"public/docker/4.docker-diagnose.html","hash":"a53d134fb771a67fef10a5d447b688c8360ee957","modified":1626577543075},{"_id":"public/2021/07/16/My-New-Post/index.html","hash":"309e435639d83069f6005d094c15f72534acc3e2","modified":1626577543075},{"_id":"public/2021/07/16/hello-world/index.html","hash":"624a5054832c68d88309b4e81c97fc2ca3c297e0","modified":1626577543075},{"_id":"public/archives/2021/index.html","hash":"60f382191a957dfa6fcc5913fbfb26462e316c59","modified":1626577543075},{"_id":"public/archives/2021/07/index.html","hash":"60f382191a957dfa6fcc5913fbfb26462e316c59","modified":1626577543075},{"_id":"public/archives/index.html","hash":"60f382191a957dfa6fcc5913fbfb26462e316c59","modified":1626577543075},{"_id":"public/index.html","hash":"458bf2525940607085c46cc7854758057d0ab667","modified":1626577543075},{"_id":"public/docker/3.1.1docker-build-client.html","hash":"f63aabcc99a6cecaa26a4d2e556e2d89a5509438","modified":1626577543075},{"_id":"public/docker/3.2.docker-build-cloud.html","hash":"682e43b6a09697e49ce6afbb5a0d1e771e1dfbb4","modified":1626577543075},{"_id":"public/docker/4.1.docker-monitor.html","hash":"7c666965b44c53cff42c73910a91c93270e6e11d","modified":1626577543075},{"_id":"public/favicon.png","hash":"1214709f0131cc39ee30e0b44ad54fc0a74d3658","modified":1626577543075},{"_id":"public/docker/assets/2.what-docker-todo-372ee802.png","hash":"ec120b7a422e6ce17e5f44a7852215dbb7a3ddc0","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-5c442ad0.png","hash":"6ba05287976934bb5a2e9039a51370b73f370927","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-55282df1.png","hash":"146900cc5c6d82d681f5689af4aab59a99dde3fd","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-fcd4285e.png","hash":"3e6d72c6eb92bd92d31a877e9aa974ce8a80c93b","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-dockerfile-51113ade.png","hash":"67dd3c24e7fe2a1ede0e2a0b90db66367392954b","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-dockerfile-d866744b.png","hash":"f21640383ea281dfe15c2f3f666c4fd3eec28307","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-70a13111.png","hash":"e1922e6e8d3ea8a3c2e95a4402eb5ac83c15256e","modified":1626577543075},{"_id":"public/docker/assets/3.2.docker-build-cloud-d6ef43c8.png","hash":"f92e29f7aa3c3419afc8c99e6bd2a1f49c8c2f3c","modified":1626577543075},{"_id":"public/docker/assets/3.3.docker-build-war-1c2f92f2.png","hash":"49d99f1ffbd9a8088bed9d8b31f5f54c062a79d4","modified":1626577543075},{"_id":"public/docker/assets/3.4.docker-build-npm-288a73a3.png","hash":"0e23191e751ae47ea3bcfebe980c6d14f9e0912d","modified":1626577543075},{"_id":"public/docker/assets/3.5.docker-build-go-cab4c619.png","hash":"17fb001103cef75a151f3abe21b23218256697f9","modified":1626577543075},{"_id":"public/docker/assets/5.1.docker-monitor-5ea2e6e9.png","hash":"6310ede04f13eaef97d9bbb8cee9c34170f81932","modified":1626577543075},{"_id":"public/docker/assets/5.1.docker-monitor-963b5ef4.png","hash":"98490b860b9cc072a6dc5b6ff3bf27e4e52b7641","modified":1626577543075},{"_id":"public/docker/assets/README-52116020.png","hash":"0d2082a2f9d0a527eb93a5424e77c9b6e0ff856b","modified":1626577543075},{"_id":"public/docker/assets/1.docker-infrustructure-8f80df54.png","hash":"a9f13780b16692b3f5bdcba123e3fd34fc2c75d7","modified":1626577543075},{"_id":"public/docker/assets/1.docker-infrustructure-75c043e9.png","hash":"0391d9b41fa9e4d0b5b3f4382d4b8c571827e0cc","modified":1626577543075},{"_id":"public/docker/assets/3.1.2docker-build-dockerfile-0159e81f.png","hash":"d9e989d2df4a5cf48d043f1b97986cf5afab87b7","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-2832e624.png","hash":"c18557e773c72011a78c92465a967beaecaef591","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-2fb8c48f.png","hash":"e20153adf98b03e1b0e470cf06e8a1c8de382842","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-dockerfile-95b57c00.png","hash":"a36087caee45f8d63515fef0c02e93df96d90762","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-dockerfile-5738e6c7.png","hash":"3975ca9ee44213fb7b399874a3e3f664fac26fbb","modified":1626577543075},{"_id":"public/docker/assets/3.2.docker-build-cloud-6357415e.png","hash":"7bfe8f4d8d0c403231b88e179938591aa2d4c3db","modified":1626577543075},{"_id":"public/docker/assets/3.2.docker-build-cloud-81f63f76.png","hash":"d68e64e19bf89baea72b4b43964f3ee35ff6c394","modified":1626577543075},{"_id":"public/docker/assets/5.2.docker-resource-6c92d7e0.png","hash":"1167c46e4e15d05e1d0b4c5ad69aba5acb43d667","modified":1626577543075},{"_id":"public/docker/assets/README-3eade5a3.png","hash":"41837cb220654a047c4443349c67b7d29b839680","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-5764c11c.png","hash":"a62418eafe0bffeebfddc484ceba572b1daf8f92","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-0a13bf6d.png","hash":"367f173db9ffcf55a5ccdc7376210fba23c059ed","modified":1626577543075},{"_id":"public/docker/assets/3.2.docker-build-cloud-74350e49.png","hash":"26988fbee1143bd7269d2318455bd8b7f8c363ac","modified":1626577543075},{"_id":"public/docker/assets/3.storage-in-k8s-2397258e.png","hash":"b20be5c44e33585e2a45ae6626e6885cde9583d0","modified":1626577543075},{"_id":"public/docker/assets/5.2.docker-resource-036307e8.png","hash":"ce01ef434af2a4a5a25cfcc1ec3df6c271cbecf0","modified":1626577543075},{"_id":"public/js/book-menu.js","hash":"deebd62833f484c84e08357291ccc797c7544eb6","modified":1626577543075},{"_id":"public/js/book-post.js","hash":"d239e79163ceb5a37c9274c0c83010eea80554d8","modified":1626577543075},{"_id":"public/js/book.js","hash":"c150427c7397aea35ad83624f8db8f4b19846bb6","modified":1626577543075},{"_id":"public/js/book-toc.js","hash":"fcbf2a88d9bab50dbd1337150a5909e8b9eecd13","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-230b019e.png","hash":"0d4c8862c5d18d0ea00b408279d708efcc6d1ba9","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-7aa18d7d.png","hash":"fd44d81094fcffb284907497c223b661616ebff8","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-e5f22393.png","hash":"7a2d78569ad7f8fd491a4bce8747a57bc59035e3","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-22c49142.png","hash":"03a390e566cc2ff41b289457e3d84d7cc3c00fe7","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-af64f5a8.png","hash":"321616ea31cc75ae8955415148ec48e1814fd3f0","modified":1626577543075},{"_id":"public/docker/assets/5.1.docker-monitor-78f4468e.png","hash":"8b99d9c8d7d88e5444cf39b20431eeffedca9fa8","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-a727e2c5.png","hash":"6998a08e2c4fde2fa05a822535a101d3a1920f64","modified":1626577543075},{"_id":"public/docker/assets/1.ccs-in-k8s-dbe82e59.png","hash":"c13d70269aa7d179344826c3d1a797efa136380f","modified":1626577543075},{"_id":"public/docker/assets/5.1.docker-monitor-980df022.png","hash":"74ac17b153e1b0cda6dbb521e2008c295e6419a8","modified":1626577543075},{"_id":"public/docker/assets/2.what-docker-todo-860e7fc0.png","hash":"d258ea6c8d0f18d71e8d2c61687b91a8152afea1","modified":1626577543075},{"_id":"public/docker/assets/3.1.docker-build-client-af040c46.png","hash":"25719202f6c9d7a6f9e8b8b416904141fc5166e2","modified":1626577543075},{"_id":"public/css/book.css","hash":"830b2744ef880e196df56d0a530538e61521d30a","modified":1626577543075}],"Category":[],"Data":[],"Page":[{"_content":"# Home\n\n* [Home Realtime Demo](/docker/My-New-Post)\n* [Introduction](/docker/README)\n","source":"home.md","raw":"# Home\n\n* [Home Realtime Demo](/docker/My-New-Post)\n* [Introduction](/docker/README)\n","date":"2021-07-17T06:28:59.696Z","updated":"2021-07-17T06:28:59.696Z","path":"home.html","title":"","comments":1,"layout":"page","_id":"ckr8m9ta50000pds66j3w8607","content":"<h1>Home</h1>\n<ul>\n<li><a href=\"/docker/My-New-Post\">Home Realtime Demo</a></li>\n<li><a href=\"/docker/README\">Introduction</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>Home</h1>\n<ul>\n<li><a href=\"/docker/My-New-Post\">Home Realtime Demo</a></li>\n<li><a href=\"/docker/README\">Introduction</a></li>\n</ul>\n"},{"_content":"# Docker\n\n* [Menu Realtime Demo](/docker/0-docker介绍)\n\n## Render\n\n* [dockerinaction Demo](/docker/My-New-Post)\n* [1.ccs-in-k8s](/docker/1.ccs-in-k8s)\n* \n\n## Lorem Ipsum\n\n* [English](/My-New-Post)","source":"menu.md","raw":"# Docker\n\n* [Menu Realtime Demo](/docker/0-docker介绍)\n\n## Render\n\n* [dockerinaction Demo](/docker/My-New-Post)\n* [1.ccs-in-k8s](/docker/1.ccs-in-k8s)\n* \n\n## Lorem Ipsum\n\n* [English](/My-New-Post)","date":"2021-07-17T06:25:24.529Z","updated":"2021-07-17T06:25:24.529Z","path":"menu.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tab0002pds66e3g7yac","content":"<h1>Docker</h1>\n<ul>\n<li><a href=\"/docker/0-docker%E4%BB%8B%E7%BB%8D\">Menu Realtime Demo</a></li>\n</ul>\n<h2 id=\"Render\">Render</h2>\n<ul>\n<li><a href=\"/docker/My-New-Post\">dockerinaction Demo</a></li>\n<li><a href=\"/docker/1.ccs-in-k8s\">1.ccs-in-k8s</a></li>\n<li></li>\n</ul>\n<h2 id=\"Lorem-Ipsum\">Lorem Ipsum</h2>\n<ul>\n<li><a href=\"/My-New-Post\">English</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>Docker</h1>\n<ul>\n<li><a href=\"/docker/0-docker%E4%BB%8B%E7%BB%8D\">Menu Realtime Demo</a></li>\n</ul>\n<h2 id=\"Render\">Render</h2>\n<ul>\n<li><a href=\"/docker/My-New-Post\">dockerinaction Demo</a></li>\n<li><a href=\"/docker/1.ccs-in-k8s\">1.ccs-in-k8s</a></li>\n<li></li>\n</ul>\n<h2 id=\"Lorem-Ipsum\">Lorem Ipsum</h2>\n<ul>\n<li><a href=\"/My-New-Post\">English</a></li>\n</ul>\n"},{"_content":"## 1. Docker是什么\n![](assets/README-3eade5a3.png)\n- Docker 是一个开源的应用容器引擎，由 server ，rest api， Client 三部分组成，基于 Go 语言 并遵从Apache2.0协议开源。\n\n## 2. Docker架构图\n![](assets/1.docker-infrustructure-75c043e9.png)\n\n## 3. Docker能干什么\n![](assets/1.docker-infrustructure-8f80df54.png)\n- 基于Docker的特征，现在常见的利用Docker进行持续集成的流程如下：\n  1.开发者提交代码；\n  2.镜像构建；\n  3.构建镜像上传至私有仓库；\n  4.镜像下载至执行机器（开发，测试，生产）；\n  5.镜像运行。\n","source":"docker/1.docker-infrustructure.md","raw":"## 1. Docker是什么\n![](assets/README-3eade5a3.png)\n- Docker 是一个开源的应用容器引擎，由 server ，rest api， Client 三部分组成，基于 Go 语言 并遵从Apache2.0协议开源。\n\n## 2. Docker架构图\n![](assets/1.docker-infrustructure-75c043e9.png)\n\n## 3. Docker能干什么\n![](assets/1.docker-infrustructure-8f80df54.png)\n- 基于Docker的特征，现在常见的利用Docker进行持续集成的流程如下：\n  1.开发者提交代码；\n  2.镜像构建；\n  3.构建镜像上传至私有仓库；\n  4.镜像下载至执行机器（开发，测试，生产）；\n  5.镜像运行。\n","date":"2021-07-17T06:24:51.177Z","updated":"2021-01-14T01:19:25.828Z","path":"docker/1.docker-infrustructure.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tag0004pds62rdn4me4","content":"<h2 id=\"1-Docker是什么\">1. Docker是什么</h2>\n<p><img src=\"assets/README-3eade5a3.png\" alt=\"\"></p>\n<ul>\n<li>Docker 是一个开源的应用容器引擎，由 server ，rest api， Client 三部分组成，基于 Go 语言 并遵从Apache2.0协议开源。</li>\n</ul>\n<h2 id=\"2-Docker架构图\">2. Docker架构图</h2>\n<p><img src=\"assets/1.docker-infrustructure-75c043e9.png\" alt=\"\"></p>\n<h2 id=\"3-Docker能干什么\">3. Docker能干什么</h2>\n<p><img src=\"assets/1.docker-infrustructure-8f80df54.png\" alt=\"\"></p>\n<ul>\n<li>基于Docker的特征，现在常见的利用Docker进行持续集成的流程如下：<br>\n1.开发者提交代码；<br>\n2.镜像构建；<br>\n3.构建镜像上传至私有仓库；<br>\n4.镜像下载至执行机器（开发，测试，生产）；<br>\n5.镜像运行。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-Docker是什么\">1. Docker是什么</h2>\n<p><img src=\"assets/README-3eade5a3.png\" alt=\"\"></p>\n<ul>\n<li>Docker 是一个开源的应用容器引擎，由 server ，rest api， Client 三部分组成，基于 Go 语言 并遵从Apache2.0协议开源。</li>\n</ul>\n<h2 id=\"2-Docker架构图\">2. Docker架构图</h2>\n<p><img src=\"assets/1.docker-infrustructure-75c043e9.png\" alt=\"\"></p>\n<h2 id=\"3-Docker能干什么\">3. Docker能干什么</h2>\n<p><img src=\"assets/1.docker-infrustructure-8f80df54.png\" alt=\"\"></p>\n<ul>\n<li>基于Docker的特征，现在常见的利用Docker进行持续集成的流程如下：<br>\n1.开发者提交代码；<br>\n2.镜像构建；<br>\n3.构建镜像上传至私有仓库；<br>\n4.镜像下载至执行机器（开发，测试，生产）；<br>\n5.镜像运行。</li>\n</ul>\n"},{"_content":"# 1.在k8s中CI/CD的实现方式\n## 1.1 容器云场景图\n![](assets/1.ccs-in-k8s-5764c11c.png)\n## 1.2 CICD流程图\n![](assets/1.ccs-in-k8s-230b019e.png)\n - 1.创建任务，选择模版或者应用商店。\n - 2.填写项目基础信息，包括项目的svn地址，账号密码，项目运行参数等等。\n - 3.填写容器基础信息，包括项目集群需要的副本集，弹性扩展，健康检测。\n - 4.填写容器服务信息，包括项目集群端口暴露，http或者https域名的创建。\n - 5.创建，发布任务到k8s集群。\n ## 1.3 任务监控\n ![](assets/1.ccs-in-k8s-a727e2c5.png)\n ## 1.4 容器监控\n![](assets/1.ccs-in-k8s-e5f22393.png)\n ## 1.5 指标监控\n ![](assets/1.ccs-in-k8s-7aa18d7d.png)\n ## 1.6 项目日志监控\n ![](assets/1.ccs-in-k8s-dbe82e59.png)\n","source":"docker/1.ccs-in-k8s.md","raw":"# 1.在k8s中CI/CD的实现方式\n## 1.1 容器云场景图\n![](assets/1.ccs-in-k8s-5764c11c.png)\n## 1.2 CICD流程图\n![](assets/1.ccs-in-k8s-230b019e.png)\n - 1.创建任务，选择模版或者应用商店。\n - 2.填写项目基础信息，包括项目的svn地址，账号密码，项目运行参数等等。\n - 3.填写容器基础信息，包括项目集群需要的副本集，弹性扩展，健康检测。\n - 4.填写容器服务信息，包括项目集群端口暴露，http或者https域名的创建。\n - 5.创建，发布任务到k8s集群。\n ## 1.3 任务监控\n ![](assets/1.ccs-in-k8s-a727e2c5.png)\n ## 1.4 容器监控\n![](assets/1.ccs-in-k8s-e5f22393.png)\n ## 1.5 指标监控\n ![](assets/1.ccs-in-k8s-7aa18d7d.png)\n ## 1.6 项目日志监控\n ![](assets/1.ccs-in-k8s-dbe82e59.png)\n","date":"2021-07-17T06:24:51.170Z","updated":"2021-01-14T01:19:25.938Z","path":"docker/1.ccs-in-k8s.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tah0005pds64j194vm7","content":"<h1>1.在k8s中CI/CD的实现方式</h1>\n<h2 id=\"1-1-容器云场景图\">1.1 容器云场景图</h2>\n<p><img src=\"assets/1.ccs-in-k8s-5764c11c.png\" alt=\"\"></p>\n<h2 id=\"1-2-CICD流程图\">1.2 CICD流程图</h2>\n<p><img src=\"assets/1.ccs-in-k8s-230b019e.png\" alt=\"\"></p>\n<ul>\n<li>1.创建任务，选择模版或者应用商店。</li>\n<li>2.填写项目基础信息，包括项目的svn地址，账号密码，项目运行参数等等。</li>\n<li>3.填写容器基础信息，包括项目集群需要的副本集，弹性扩展，健康检测。</li>\n<li>4.填写容器服务信息，包括项目集群端口暴露，http或者https域名的创建。</li>\n<li>5.创建，发布任务到k8s集群。</li>\n</ul>\n<h2 id=\"1-3-任务监控\">1.3 任务监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-a727e2c5.png\" alt=\"\"></p>\n<h2 id=\"1-4-容器监控\">1.4 容器监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-e5f22393.png\" alt=\"\"></p>\n<h2 id=\"1-5-指标监控\">1.5 指标监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-7aa18d7d.png\" alt=\"\"></p>\n<h2 id=\"1-6-项目日志监控\">1.6 项目日志监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-dbe82e59.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>1.在k8s中CI/CD的实现方式</h1>\n<h2 id=\"1-1-容器云场景图\">1.1 容器云场景图</h2>\n<p><img src=\"assets/1.ccs-in-k8s-5764c11c.png\" alt=\"\"></p>\n<h2 id=\"1-2-CICD流程图\">1.2 CICD流程图</h2>\n<p><img src=\"assets/1.ccs-in-k8s-230b019e.png\" alt=\"\"></p>\n<ul>\n<li>1.创建任务，选择模版或者应用商店。</li>\n<li>2.填写项目基础信息，包括项目的svn地址，账号密码，项目运行参数等等。</li>\n<li>3.填写容器基础信息，包括项目集群需要的副本集，弹性扩展，健康检测。</li>\n<li>4.填写容器服务信息，包括项目集群端口暴露，http或者https域名的创建。</li>\n<li>5.创建，发布任务到k8s集群。</li>\n</ul>\n<h2 id=\"1-3-任务监控\">1.3 任务监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-a727e2c5.png\" alt=\"\"></p>\n<h2 id=\"1-4-容器监控\">1.4 容器监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-e5f22393.png\" alt=\"\"></p>\n<h2 id=\"1-5-指标监控\">1.5 指标监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-7aa18d7d.png\" alt=\"\"></p>\n<h2 id=\"1-6-项目日志监控\">1.6 项目日志监控</h2>\n<p><img src=\"assets/1.ccs-in-k8s-dbe82e59.png\" alt=\"\"></p>\n"},{"_content":"# 2.Docker底层原理\n## 1. Docker容器的启动过程：\n - 容器的启动命令：\n  docker run -i -t ubuntu /bin/bash\n![](assets/2.what-docker-todo-860e7fc0.png)\n  1. docker client(即：docker终端命令行)会调用docker daemon请求启动一个容器，\n  2. docker daemon会向host os(即：linux)请求创建容器\n  3. linux会创建一个空的容器（可以简单理解为：一个未安装操作系统的裸机，只有虚拟出来的CPU、内存等硬件资源）\n  4. docker daemon请检查本机是否存在docker镜像文件（可以简单理解为操作系统安装光盘），如果有，则加载到容器中（即：光盘插入裸机，准备安装操作系统）\n  5. 将镜像文件加载到容器中（即：裸机上安装好了操作系统，不再是裸机状态）\n## 2. Docker的核心技术：\n  Docker容器本质上是属主机上的进程。Docker通过namespace实现了资源隔离，通过cgroups实现了资源限制，通过写时复制机制（copy-on-write）实现了高效的文件操作。\n - namespace 是 Linux 为我们提供的用于分离进程树、网络接口、挂载点以及进程间通信等资源的方法。Linux内核提供了下面6种namespace隔离的系统调用。目的就是实现轻量级虚拟化（容器）服务。在同一个namespace下的进程可以感知彼此，而对外界的进程一无所知。以达到独立和隔离的目的。\n ![](assets/2.what-docker-todo-372ee802.png)\n 参考：http://dockone.io/article/2941\n - cgroups资源限制，四大功能\n  资源限制：可以对任务使用的资源总额进行限制\n　优先级分配：通过分配的cpu时间片数量以及磁盘IO带宽大小，实际上相当于控制了任务运行优先级\n　资源统计：可以统计系统的资源使用量，如cpu时长，内存用量等\n　任务控制：cgroup可以对任务执行挂起、恢复等操作\n## 3. 容器化思维：\n###### 我如何进行容器调试，该怎么办？\n###### sshd要怎么配置？\n###### 容器如何做备份？\n  - SSH服务器的替代方案\n  首先Docker不是一个轻量级虚拟机技术，他实际上是一个进程，所以不需要考虑ssh服务器，也就不需要配置。在容器里，提供 docker exec命令， 可以进入已经运行的容器，在里面执行命令。\n  - 如果说要长期使用的配置文件，就做到镜像中，如果是经常修改的配置文件，就需要用到docker数据卷共享这个配置文件。\n","source":"docker/2.what-docker-todo.md","raw":"# 2.Docker底层原理\n## 1. Docker容器的启动过程：\n - 容器的启动命令：\n  docker run -i -t ubuntu /bin/bash\n![](assets/2.what-docker-todo-860e7fc0.png)\n  1. docker client(即：docker终端命令行)会调用docker daemon请求启动一个容器，\n  2. docker daemon会向host os(即：linux)请求创建容器\n  3. linux会创建一个空的容器（可以简单理解为：一个未安装操作系统的裸机，只有虚拟出来的CPU、内存等硬件资源）\n  4. docker daemon请检查本机是否存在docker镜像文件（可以简单理解为操作系统安装光盘），如果有，则加载到容器中（即：光盘插入裸机，准备安装操作系统）\n  5. 将镜像文件加载到容器中（即：裸机上安装好了操作系统，不再是裸机状态）\n## 2. Docker的核心技术：\n  Docker容器本质上是属主机上的进程。Docker通过namespace实现了资源隔离，通过cgroups实现了资源限制，通过写时复制机制（copy-on-write）实现了高效的文件操作。\n - namespace 是 Linux 为我们提供的用于分离进程树、网络接口、挂载点以及进程间通信等资源的方法。Linux内核提供了下面6种namespace隔离的系统调用。目的就是实现轻量级虚拟化（容器）服务。在同一个namespace下的进程可以感知彼此，而对外界的进程一无所知。以达到独立和隔离的目的。\n ![](assets/2.what-docker-todo-372ee802.png)\n 参考：http://dockone.io/article/2941\n - cgroups资源限制，四大功能\n  资源限制：可以对任务使用的资源总额进行限制\n　优先级分配：通过分配的cpu时间片数量以及磁盘IO带宽大小，实际上相当于控制了任务运行优先级\n　资源统计：可以统计系统的资源使用量，如cpu时长，内存用量等\n　任务控制：cgroup可以对任务执行挂起、恢复等操作\n## 3. 容器化思维：\n###### 我如何进行容器调试，该怎么办？\n###### sshd要怎么配置？\n###### 容器如何做备份？\n  - SSH服务器的替代方案\n  首先Docker不是一个轻量级虚拟机技术，他实际上是一个进程，所以不需要考虑ssh服务器，也就不需要配置。在容器里，提供 docker exec命令， 可以进入已经运行的容器，在里面执行命令。\n  - 如果说要长期使用的配置文件，就做到镜像中，如果是经常修改的配置文件，就需要用到docker数据卷共享这个配置文件。\n","date":"2021-07-17T06:24:51.288Z","updated":"2021-01-14T01:19:26.017Z","path":"docker/2.what-docker-todo.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tan0006pds68n607ls0","content":"<h1>2.Docker底层原理</h1>\n<h2 id=\"1-Docker容器的启动过程：\">1. Docker容器的启动过程：</h2>\n<ul>\n<li>容器的启动命令：<br>\ndocker run -i -t ubuntu /bin/bash<br>\n<img src=\"assets/2.what-docker-todo-860e7fc0.png\" alt=\"\"></li>\n</ul>\n<ol>\n<li>docker client(即：docker终端命令行)会调用docker daemon请求启动一个容器，</li>\n<li>docker daemon会向host os(即：linux)请求创建容器</li>\n<li>linux会创建一个空的容器（可以简单理解为：一个未安装操作系统的裸机，只有虚拟出来的CPU、内存等硬件资源）</li>\n<li>docker daemon请检查本机是否存在docker镜像文件（可以简单理解为操作系统安装光盘），如果有，则加载到容器中（即：光盘插入裸机，准备安装操作系统）</li>\n<li>将镜像文件加载到容器中（即：裸机上安装好了操作系统，不再是裸机状态）</li>\n</ol>\n<h2 id=\"2-Docker的核心技术：\">2. Docker的核心技术：</h2>\n<p>Docker容器本质上是属主机上的进程。Docker通过namespace实现了资源隔离，通过cgroups实现了资源限制，通过写时复制机制（copy-on-write）实现了高效的文件操作。</p>\n<ul>\n<li>namespace 是 Linux 为我们提供的用于分离进程树、网络接口、挂载点以及进程间通信等资源的方法。Linux内核提供了下面6种namespace隔离的系统调用。目的就是实现轻量级虚拟化（容器）服务。在同一个namespace下的进程可以感知彼此，而对外界的进程一无所知。以达到独立和隔离的目的。<br>\n<img src=\"assets/2.what-docker-todo-372ee802.png\" alt=\"\"><br>\n参考：<a href=\"http://dockone.io/article/2941\">http://dockone.io/article/2941</a></li>\n<li>cgroups资源限制，四大功能<br>\n资源限制：可以对任务使用的资源总额进行限制<br>\n　优先级分配：通过分配的cpu时间片数量以及磁盘IO带宽大小，实际上相当于控制了任务运行优先级<br>\n　资源统计：可以统计系统的资源使用量，如cpu时长，内存用量等<br>\n　任务控制：cgroup可以对任务执行挂起、恢复等操作</li>\n</ul>\n<h2 id=\"3-容器化思维：\">3. 容器化思维：</h2>\n<h6 id=\"我如何进行容器调试，该怎么办？\">我如何进行容器调试，该怎么办？</h6>\n<h6 id=\"sshd要怎么配置？\">sshd要怎么配置？</h6>\n<h6 id=\"容器如何做备份？\">容器如何做备份？</h6>\n<ul>\n<li>SSH服务器的替代方案<br>\n首先Docker不是一个轻量级虚拟机技术，他实际上是一个进程，所以不需要考虑ssh服务器，也就不需要配置。在容器里，提供 docker exec命令， 可以进入已经运行的容器，在里面执行命令。</li>\n<li>如果说要长期使用的配置文件，就做到镜像中，如果是经常修改的配置文件，就需要用到docker数据卷共享这个配置文件。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>2.Docker底层原理</h1>\n<h2 id=\"1-Docker容器的启动过程：\">1. Docker容器的启动过程：</h2>\n<ul>\n<li>容器的启动命令：<br>\ndocker run -i -t ubuntu /bin/bash<br>\n<img src=\"assets/2.what-docker-todo-860e7fc0.png\" alt=\"\"></li>\n</ul>\n<ol>\n<li>docker client(即：docker终端命令行)会调用docker daemon请求启动一个容器，</li>\n<li>docker daemon会向host os(即：linux)请求创建容器</li>\n<li>linux会创建一个空的容器（可以简单理解为：一个未安装操作系统的裸机，只有虚拟出来的CPU、内存等硬件资源）</li>\n<li>docker daemon请检查本机是否存在docker镜像文件（可以简单理解为操作系统安装光盘），如果有，则加载到容器中（即：光盘插入裸机，准备安装操作系统）</li>\n<li>将镜像文件加载到容器中（即：裸机上安装好了操作系统，不再是裸机状态）</li>\n</ol>\n<h2 id=\"2-Docker的核心技术：\">2. Docker的核心技术：</h2>\n<p>Docker容器本质上是属主机上的进程。Docker通过namespace实现了资源隔离，通过cgroups实现了资源限制，通过写时复制机制（copy-on-write）实现了高效的文件操作。</p>\n<ul>\n<li>namespace 是 Linux 为我们提供的用于分离进程树、网络接口、挂载点以及进程间通信等资源的方法。Linux内核提供了下面6种namespace隔离的系统调用。目的就是实现轻量级虚拟化（容器）服务。在同一个namespace下的进程可以感知彼此，而对外界的进程一无所知。以达到独立和隔离的目的。<br>\n<img src=\"assets/2.what-docker-todo-372ee802.png\" alt=\"\"><br>\n参考：<a href=\"http://dockone.io/article/2941\">http://dockone.io/article/2941</a></li>\n<li>cgroups资源限制，四大功能<br>\n资源限制：可以对任务使用的资源总额进行限制<br>\n　优先级分配：通过分配的cpu时间片数量以及磁盘IO带宽大小，实际上相当于控制了任务运行优先级<br>\n　资源统计：可以统计系统的资源使用量，如cpu时长，内存用量等<br>\n　任务控制：cgroup可以对任务执行挂起、恢复等操作</li>\n</ul>\n<h2 id=\"3-容器化思维：\">3. 容器化思维：</h2>\n<h6 id=\"我如何进行容器调试，该怎么办？\">我如何进行容器调试，该怎么办？</h6>\n<h6 id=\"sshd要怎么配置？\">sshd要怎么配置？</h6>\n<h6 id=\"容器如何做备份？\">容器如何做备份？</h6>\n<ul>\n<li>SSH服务器的替代方案<br>\n首先Docker不是一个轻量级虚拟机技术，他实际上是一个进程，所以不需要考虑ssh服务器，也就不需要配置。在容器里，提供 docker exec命令， 可以进入已经运行的容器，在里面执行命令。</li>\n<li>如果说要长期使用的配置文件，就做到镜像中，如果是经常修改的配置文件，就需要用到docker数据卷共享这个配置文件。</li>\n</ul>\n"},{"_content":"# 2.在k8s对数据库对支持\n   测试环境中，可以把mysql，mongdb，redis等服务部署到k8s集群，但是在生产环境中，建议剥离到单独的机器，不部署到k8s集群中。\n   1. 不建议，目前还够成熟。\n     - 数据安全性（数据备份）\n     - 网络需求 （增加复杂度）\n     - 容器状态（有状态和无状态，加大系统的故障排查范围）\n   2. 无头服务。引入外部服务\n   ```shell\n  apiVersion: v1\n  kind: Endpoints\n  metadata:\n    name: ep-mysql\n  subsets:\n    - addresses:\n      - ip: 192.168.4.9\n      ports:\n      - port: 3306\n        protocol: TCP\n   ```\n   ```shell\n  apiVersion: v1\n  kind: Service\n  metadata:\n    name: ep-mysql\n  spec:\n    ports:\n    - port: 80\n      protocol: TCP\n ```\n   访问： mysql -h p-mysql -u root -P 80 -p\n   3. 直接访问。外部数据库。\n","source":"docker/2.database-in-k8s.md","raw":"# 2.在k8s对数据库对支持\n   测试环境中，可以把mysql，mongdb，redis等服务部署到k8s集群，但是在生产环境中，建议剥离到单独的机器，不部署到k8s集群中。\n   1. 不建议，目前还够成熟。\n     - 数据安全性（数据备份）\n     - 网络需求 （增加复杂度）\n     - 容器状态（有状态和无状态，加大系统的故障排查范围）\n   2. 无头服务。引入外部服务\n   ```shell\n  apiVersion: v1\n  kind: Endpoints\n  metadata:\n    name: ep-mysql\n  subsets:\n    - addresses:\n      - ip: 192.168.4.9\n      ports:\n      - port: 3306\n        protocol: TCP\n   ```\n   ```shell\n  apiVersion: v1\n  kind: Service\n  metadata:\n    name: ep-mysql\n  spec:\n    ports:\n    - port: 80\n      protocol: TCP\n ```\n   访问： mysql -h p-mysql -u root -P 80 -p\n   3. 直接访问。外部数据库。\n","date":"2021-07-17T06:24:51.187Z","updated":"2021-01-14T01:19:25.940Z","path":"docker/2.database-in-k8s.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tap0007pds63ck9gyu2","content":"<h1>2.在k8s对数据库对支持</h1>\n<p>测试环境中，可以把mysql，mongdb，redis等服务部署到k8s集群，但是在生产环境中，建议剥离到单独的机器，不部署到k8s集群中。</p>\n<ol>\n<li>不建议，目前还够成熟。<br>\n- 数据安全性（数据备份）<br>\n- 网络需求 （增加复杂度）<br>\n- 容器状态（有状态和无状态，加大系统的故障排查范围）</li>\n<li>无头服务。引入外部服务</li>\n</ol>\n   <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: Endpoints</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: ep-mysql</span><br><span class=\"line\">subsets:</span><br><span class=\"line\">  - addresses:</span><br><span class=\"line\">    - ip: 192.168.4.9</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">    - port: 3306</span><br><span class=\"line\">      protocol: TCP</span><br></pre></td></tr></table></figure>\n   <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: Service</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: ep-mysql</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  ports:</span><br><span class=\"line\">  - port: 80</span><br><span class=\"line\">    protocol: TCP</span><br></pre></td></tr></table></figure>\n<p>访问： mysql -h p-mysql -u root -P 80 -p<br>\n3. 直接访问。外部数据库。</p>\n","site":{"data":{}},"excerpt":"","more":"<h1>2.在k8s对数据库对支持</h1>\n<p>测试环境中，可以把mysql，mongdb，redis等服务部署到k8s集群，但是在生产环境中，建议剥离到单独的机器，不部署到k8s集群中。</p>\n<ol>\n<li>不建议，目前还够成熟。<br>\n- 数据安全性（数据备份）<br>\n- 网络需求 （增加复杂度）<br>\n- 容器状态（有状态和无状态，加大系统的故障排查范围）</li>\n<li>无头服务。引入外部服务</li>\n</ol>\n   <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: Endpoints</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: ep-mysql</span><br><span class=\"line\">subsets:</span><br><span class=\"line\">  - addresses:</span><br><span class=\"line\">    - ip: 192.168.4.9</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">    - port: 3306</span><br><span class=\"line\">      protocol: TCP</span><br></pre></td></tr></table></figure>\n   <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: Service</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: ep-mysql</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  ports:</span><br><span class=\"line\">  - port: 80</span><br><span class=\"line\">    protocol: TCP</span><br></pre></td></tr></table></figure>\n<p>访问： mysql -h p-mysql -u root -P 80 -p<br>\n3. 直接访问。外部数据库。</p>\n"},{"_content":"# 3.1.2 场景二、Dockerfile构建\n### 1.dockerfile语法：\n![](assets/3.1.docker-build-dockerfile-5738e6c7.png)\n 参考：https://db2go.net/k8s/docker/3-dockerfile%E4%BB%8B%E7%BB%8D.html\n### 2.编写镜像文件Dockerfile步骤图：\n![](assets/3.1.2docker-build-dockerfile-0159e81f.png)\n### 3.构建镜像文件Dockerfile：\n```shell\n构建命令： docker build -t eureka:jre8-v1.0  .\n\nSending build context to Docker daemon  42.91MB\nStep 1/6 : FROM openjdk:8-jre-alpine\n ---> f7a292bbb70c\nStep 2/6 : MAINTAINER xxx@sgcc.com.cn\n ---> Using cache\n ---> 8c3ba67a2209\nStep 3/6 : COPY eureka.jar /opt/eureka.jar\n ---> Using cache\n ---> 316ca7606ca5\nStep 4/6 : WORKDIR /opt\n ---> Using cache\n ---> b8940ce2741e\nStep 5/6 : EXPOSE 8761\n ---> Using cache\n ---> b67b2687a83f\nStep 6/6 : CMD java $JAVA_OPTIONS -jar eureka.jar\n ---> Using cache\n ---> ea902f82499a\nSuccessfully built ea902f82499a\nSuccessfully tagged eureka:jre8-v1.0\n```\n### 4.查找并运行镜像：\n```shell\n  docker images|grep eureka\n  docker run -d -e JAVA_OPTIONS='-Xmx512M -Xms512M' hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-demo:1.5.0-SNAPSHOT \n```\n![](assets/3.1.docker-build-dockerfile-d866744b.png)\n - docker ps|grep eureka 查询运行到容器\n![](assets/3.1.docker-build-dockerfile-51113ade.png)\n","source":"docker/3.1.2docker-build-dockerfile.md","raw":"# 3.1.2 场景二、Dockerfile构建\n### 1.dockerfile语法：\n![](assets/3.1.docker-build-dockerfile-5738e6c7.png)\n 参考：https://db2go.net/k8s/docker/3-dockerfile%E4%BB%8B%E7%BB%8D.html\n### 2.编写镜像文件Dockerfile步骤图：\n![](assets/3.1.2docker-build-dockerfile-0159e81f.png)\n### 3.构建镜像文件Dockerfile：\n```shell\n构建命令： docker build -t eureka:jre8-v1.0  .\n\nSending build context to Docker daemon  42.91MB\nStep 1/6 : FROM openjdk:8-jre-alpine\n ---> f7a292bbb70c\nStep 2/6 : MAINTAINER xxx@sgcc.com.cn\n ---> Using cache\n ---> 8c3ba67a2209\nStep 3/6 : COPY eureka.jar /opt/eureka.jar\n ---> Using cache\n ---> 316ca7606ca5\nStep 4/6 : WORKDIR /opt\n ---> Using cache\n ---> b8940ce2741e\nStep 5/6 : EXPOSE 8761\n ---> Using cache\n ---> b67b2687a83f\nStep 6/6 : CMD java $JAVA_OPTIONS -jar eureka.jar\n ---> Using cache\n ---> ea902f82499a\nSuccessfully built ea902f82499a\nSuccessfully tagged eureka:jre8-v1.0\n```\n### 4.查找并运行镜像：\n```shell\n  docker images|grep eureka\n  docker run -d -e JAVA_OPTIONS='-Xmx512M -Xms512M' hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-demo:1.5.0-SNAPSHOT \n```\n![](assets/3.1.docker-build-dockerfile-d866744b.png)\n - docker ps|grep eureka 查询运行到容器\n![](assets/3.1.docker-build-dockerfile-51113ade.png)\n","date":"2021-07-17T06:24:51.320Z","updated":"2021-01-14T01:19:25.830Z","path":"docker/3.1.2docker-build-dockerfile.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tap0008pds6aofi83jz","content":"<h1>3.1.2 场景二、Dockerfile构建</h1>\n<h3 id=\"1-dockerfile语法：\">1.dockerfile语法：</h3>\n<p><img src=\"assets/3.1.docker-build-dockerfile-5738e6c7.png\" alt=\"\"><br>\n参考：<a href=\"https://db2go.net/k8s/docker/3-dockerfile%E4%BB%8B%E7%BB%8D.html\">https://db2go.net/k8s/docker/3-dockerfile介绍.html</a></p>\n<h3 id=\"2-编写镜像文件Dockerfile步骤图：\">2.编写镜像文件Dockerfile步骤图：</h3>\n<p><img src=\"assets/3.1.2docker-build-dockerfile-0159e81f.png\" alt=\"\"></p>\n<h3 id=\"3-构建镜像文件Dockerfile：\">3.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">构建命令： docker build -t eureka:jre8-v1.0  .</span><br><span class=\"line\"></span><br><span class=\"line\">Sending build context to Docker daemon  42.91MB</span><br><span class=\"line\">Step 1/6 : FROM openjdk:8-jre-alpine</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f7a292bbb70c</span></span><br><span class=\"line\">Step 2/6 : MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 8c3ba67a2209</span></span><br><span class=\"line\">Step 3/6 : COPY eureka.jar /opt/eureka.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 316ca7606ca5</span></span><br><span class=\"line\">Step 4/6 : WORKDIR /opt</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> b8940ce2741e</span></span><br><span class=\"line\">Step 5/6 : EXPOSE 8761</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> b67b2687a83f</span></span><br><span class=\"line\">Step 6/6 : CMD java $JAVA_OPTIONS -jar eureka.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> ea902f82499a</span></span><br><span class=\"line\">Successfully built ea902f82499a</span><br><span class=\"line\">Successfully tagged eureka:jre8-v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-查找并运行镜像：\">4.查找并运行镜像：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images|grep eureka</span><br><span class=\"line\">docker run -d -e JAVA_OPTIONS=&#x27;-Xmx512M -Xms512M&#x27; hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-demo:1.5.0-SNAPSHOT </span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-dockerfile-d866744b.png\" alt=\"\"></p>\n<ul>\n<li>docker ps|grep eureka 查询运行到容器<br>\n<img src=\"assets/3.1.docker-build-dockerfile-51113ade.png\" alt=\"\"></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.1.2 场景二、Dockerfile构建</h1>\n<h3 id=\"1-dockerfile语法：\">1.dockerfile语法：</h3>\n<p><img src=\"assets/3.1.docker-build-dockerfile-5738e6c7.png\" alt=\"\"><br>\n参考：<a href=\"https://db2go.net/k8s/docker/3-dockerfile%E4%BB%8B%E7%BB%8D.html\">https://db2go.net/k8s/docker/3-dockerfile介绍.html</a></p>\n<h3 id=\"2-编写镜像文件Dockerfile步骤图：\">2.编写镜像文件Dockerfile步骤图：</h3>\n<p><img src=\"assets/3.1.2docker-build-dockerfile-0159e81f.png\" alt=\"\"></p>\n<h3 id=\"3-构建镜像文件Dockerfile：\">3.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">构建命令： docker build -t eureka:jre8-v1.0  .</span><br><span class=\"line\"></span><br><span class=\"line\">Sending build context to Docker daemon  42.91MB</span><br><span class=\"line\">Step 1/6 : FROM openjdk:8-jre-alpine</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f7a292bbb70c</span></span><br><span class=\"line\">Step 2/6 : MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 8c3ba67a2209</span></span><br><span class=\"line\">Step 3/6 : COPY eureka.jar /opt/eureka.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 316ca7606ca5</span></span><br><span class=\"line\">Step 4/6 : WORKDIR /opt</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> b8940ce2741e</span></span><br><span class=\"line\">Step 5/6 : EXPOSE 8761</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> b67b2687a83f</span></span><br><span class=\"line\">Step 6/6 : CMD java $JAVA_OPTIONS -jar eureka.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> ea902f82499a</span></span><br><span class=\"line\">Successfully built ea902f82499a</span><br><span class=\"line\">Successfully tagged eureka:jre8-v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-查找并运行镜像：\">4.查找并运行镜像：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images|grep eureka</span><br><span class=\"line\">docker run -d -e JAVA_OPTIONS=&#x27;-Xmx512M -Xms512M&#x27; hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-demo:1.5.0-SNAPSHOT </span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-dockerfile-d866744b.png\" alt=\"\"></p>\n<ul>\n<li>docker ps|grep eureka 查询运行到容器<br>\n<img src=\"assets/3.1.docker-build-dockerfile-51113ade.png\" alt=\"\"></li>\n</ul>\n"},{"_content":"# 3.1.1 场景一、命令行构建镜像\n![](assets/3.1.docker-build-client-5c442ad0.png)\n\n### 1. 查找合适的基础镜像\n    -   docker images 查找本地镜像\n```shell\n   docker images\n```\n  ![](assets/3.1.docker-build-client-af040c46.png)\n    - docker search 查找dockerhub镜像。如果是pull太慢，可以设置阿里的容器镜像服务。\n```shell\n   docker search mysql\n```\n  ![](assets/3.1.docker-build-client-22c49142.png)\n    - 通过 dockerhub 查找镜像。\n```shell\n   docker pull openjdk:8u252-jre\n\n   docker pull tomcat:8.5.56-jdk8-adoptopenjdk-hotspot\n```\n  ![](assets/3.1.docker-build-client-af64f5a8.png)\n  ![](assets/3.1.docker-build-client-0a13bf6d.png)\n  ![](assets/3.1.docker-build-client-2832e624.png)\n### 2. 运行并进入到容器\n  - 后台方式运行一个容器。\n  - docker run 命令：\n```shell\n  -a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；\n\n  -d: 后台运行容器，并返回容器ID；\n\n  -i: 以交互模式运行容器，通常与 -t 同时使用；\n\n  -P: 随机端口映射，容器内部端口随机映射到主机的端口\n\n  -p: 指定端口映射，格式为：主机(宿主)端口:容器端口\n\n  -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；\n\n  --name=\"nginx-lb\": 为容器指定一个名称；\n\n  --dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；\n\n  --dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；\n\n  -h \"mars\": 指定容器的hostname；\n\n  -e username=\"ritchie\": 设置环境变量；\n\n  --env-file=[]: 从指定文件读入环境变量；\n\n  --cpuset=\"0-2\" or --cpuset=\"0,1,2\": 绑定容器到指定CPU运行；\n\n  -m :设置容器使用内存最大值；\n\n  --net=\"bridge\": 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；\n\n  --link=[]: 添加链接到另一个容器；\n\n  --expose=[]: 开放一个端口或一组端口；\n\n  --volume , -v: 绑定一个卷\n```\n```shell\n  docker run -itd busybox:1.29.3\n  docker exec -it 482aed1fe41 sh\n```\n\n ![](assets/3.1.docker-build-client-70a13111.png)\n -  进入运行中的容器并修改配置文件。\n ![](assets/3.1.docker-build-client-fcd4285e.png)\n### 3. 提交一个新的容器\n  - 对刚才修改后的容器保存一个新镜像。\n  ```shell\n    docker commit 482aed1fe41 mybusybox:v0.1\n  ```\n![](assets/3.1.docker-build-client-2fb8c48f.png)\n\n### 4. 验证新的容器\n![](assets/3.1.docker-build-client-55282df1.png)\n","source":"docker/3.1.1docker-build-client.md","raw":"# 3.1.1 场景一、命令行构建镜像\n![](assets/3.1.docker-build-client-5c442ad0.png)\n\n### 1. 查找合适的基础镜像\n    -   docker images 查找本地镜像\n```shell\n   docker images\n```\n  ![](assets/3.1.docker-build-client-af040c46.png)\n    - docker search 查找dockerhub镜像。如果是pull太慢，可以设置阿里的容器镜像服务。\n```shell\n   docker search mysql\n```\n  ![](assets/3.1.docker-build-client-22c49142.png)\n    - 通过 dockerhub 查找镜像。\n```shell\n   docker pull openjdk:8u252-jre\n\n   docker pull tomcat:8.5.56-jdk8-adoptopenjdk-hotspot\n```\n  ![](assets/3.1.docker-build-client-af64f5a8.png)\n  ![](assets/3.1.docker-build-client-0a13bf6d.png)\n  ![](assets/3.1.docker-build-client-2832e624.png)\n### 2. 运行并进入到容器\n  - 后台方式运行一个容器。\n  - docker run 命令：\n```shell\n  -a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；\n\n  -d: 后台运行容器，并返回容器ID；\n\n  -i: 以交互模式运行容器，通常与 -t 同时使用；\n\n  -P: 随机端口映射，容器内部端口随机映射到主机的端口\n\n  -p: 指定端口映射，格式为：主机(宿主)端口:容器端口\n\n  -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；\n\n  --name=\"nginx-lb\": 为容器指定一个名称；\n\n  --dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；\n\n  --dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；\n\n  -h \"mars\": 指定容器的hostname；\n\n  -e username=\"ritchie\": 设置环境变量；\n\n  --env-file=[]: 从指定文件读入环境变量；\n\n  --cpuset=\"0-2\" or --cpuset=\"0,1,2\": 绑定容器到指定CPU运行；\n\n  -m :设置容器使用内存最大值；\n\n  --net=\"bridge\": 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；\n\n  --link=[]: 添加链接到另一个容器；\n\n  --expose=[]: 开放一个端口或一组端口；\n\n  --volume , -v: 绑定一个卷\n```\n```shell\n  docker run -itd busybox:1.29.3\n  docker exec -it 482aed1fe41 sh\n```\n\n ![](assets/3.1.docker-build-client-70a13111.png)\n -  进入运行中的容器并修改配置文件。\n ![](assets/3.1.docker-build-client-fcd4285e.png)\n### 3. 提交一个新的容器\n  - 对刚才修改后的容器保存一个新镜像。\n  ```shell\n    docker commit 482aed1fe41 mybusybox:v0.1\n  ```\n![](assets/3.1.docker-build-client-2fb8c48f.png)\n\n### 4. 验证新的容器\n![](assets/3.1.docker-build-client-55282df1.png)\n","date":"2021-07-17T06:24:51.297Z","updated":"2021-01-14T01:19:25.942Z","path":"docker/3.1.1docker-build-client.html","title":"","comments":1,"layout":"page","_id":"ckr8m9taq0009pds68j5448zg","content":"<h1>3.1.1 场景一、命令行构建镜像</h1>\n<p><img src=\"assets/3.1.docker-build-client-5c442ad0.png\" alt=\"\"></p>\n<h3 id=\"1-查找合适的基础镜像\">1. 查找合适的基础镜像</h3>\n<pre><code>-   docker images 查找本地镜像\n</code></pre>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-af040c46.png\" alt=\"\"><br>\n- docker search 查找dockerhub镜像。如果是pull太慢，可以设置阿里的容器镜像服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search mysql</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-22c49142.png\" alt=\"\"><br>\n- 通过 dockerhub 查找镜像。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull openjdk:8u252-jre</span><br><span class=\"line\"></span><br><span class=\"line\">docker pull tomcat:8.5.56-jdk8-adoptopenjdk-hotspot</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-af64f5a8.png\" alt=\"\"><br>\n<img src=\"assets/3.1.docker-build-client-0a13bf6d.png\" alt=\"\"><br>\n<img src=\"assets/3.1.docker-build-client-2832e624.png\" alt=\"\"></p>\n<h3 id=\"2-运行并进入到容器\">2. 运行并进入到容器</h3>\n<ul>\n<li>后台方式运行一个容器。</li>\n<li>docker run 命令：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；</span><br><span class=\"line\"></span><br><span class=\"line\">-d: 后台运行容器，并返回容器ID；</span><br><span class=\"line\"></span><br><span class=\"line\">-i: 以交互模式运行容器，通常与 -t 同时使用；</span><br><span class=\"line\"></span><br><span class=\"line\">-P: 随机端口映射，容器内部端口随机映射到主机的端口</span><br><span class=\"line\"></span><br><span class=\"line\">-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</span><br><span class=\"line\"></span><br><span class=\"line\">-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class=\"line\"></span><br><span class=\"line\">--name=&quot;nginx-lb&quot;: 为容器指定一个名称；</span><br><span class=\"line\"></span><br><span class=\"line\">--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；</span><br><span class=\"line\"></span><br><span class=\"line\">--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；</span><br><span class=\"line\"></span><br><span class=\"line\">-h &quot;mars&quot;: 指定容器的hostname；</span><br><span class=\"line\"></span><br><span class=\"line\">-e username=&quot;ritchie&quot;: 设置环境变量；</span><br><span class=\"line\"></span><br><span class=\"line\">--env-file=[]: 从指定文件读入环境变量；</span><br><span class=\"line\"></span><br><span class=\"line\">--cpuset=&quot;0-2&quot; or --cpuset=&quot;0,1,2&quot;: 绑定容器到指定CPU运行；</span><br><span class=\"line\"></span><br><span class=\"line\">-m :设置容器使用内存最大值；</span><br><span class=\"line\"></span><br><span class=\"line\">--net=&quot;bridge&quot;: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；</span><br><span class=\"line\"></span><br><span class=\"line\">--link=[]: 添加链接到另一个容器；</span><br><span class=\"line\"></span><br><span class=\"line\">--expose=[]: 开放一个端口或一组端口；</span><br><span class=\"line\"></span><br><span class=\"line\">--volume , -v: 绑定一个卷</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd busybox:1.29.3</span><br><span class=\"line\">docker exec -it 482aed1fe41 sh</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-70a13111.png\" alt=\"\"></p>\n<ul>\n<li>进入运行中的容器并修改配置文件。<br>\n<img src=\"assets/3.1.docker-build-client-fcd4285e.png\" alt=\"\"></li>\n</ul>\n<h3 id=\"3-提交一个新的容器\">3. 提交一个新的容器</h3>\n<ul>\n<li>对刚才修改后的容器保存一个新镜像。</li>\n</ul>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker commit 482aed1fe41 mybusybox:v0.1</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-2fb8c48f.png\" alt=\"\"></p>\n<h3 id=\"4-验证新的容器\">4. 验证新的容器</h3>\n<p><img src=\"assets/3.1.docker-build-client-55282df1.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.1.1 场景一、命令行构建镜像</h1>\n<p><img src=\"assets/3.1.docker-build-client-5c442ad0.png\" alt=\"\"></p>\n<h3 id=\"1-查找合适的基础镜像\">1. 查找合适的基础镜像</h3>\n<pre><code>-   docker images 查找本地镜像\n</code></pre>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-af040c46.png\" alt=\"\"><br>\n- docker search 查找dockerhub镜像。如果是pull太慢，可以设置阿里的容器镜像服务。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search mysql</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-22c49142.png\" alt=\"\"><br>\n- 通过 dockerhub 查找镜像。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull openjdk:8u252-jre</span><br><span class=\"line\"></span><br><span class=\"line\">docker pull tomcat:8.5.56-jdk8-adoptopenjdk-hotspot</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-af64f5a8.png\" alt=\"\"><br>\n<img src=\"assets/3.1.docker-build-client-0a13bf6d.png\" alt=\"\"><br>\n<img src=\"assets/3.1.docker-build-client-2832e624.png\" alt=\"\"></p>\n<h3 id=\"2-运行并进入到容器\">2. 运行并进入到容器</h3>\n<ul>\n<li>后台方式运行一个容器。</li>\n<li>docker run 命令：</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；</span><br><span class=\"line\"></span><br><span class=\"line\">-d: 后台运行容器，并返回容器ID；</span><br><span class=\"line\"></span><br><span class=\"line\">-i: 以交互模式运行容器，通常与 -t 同时使用；</span><br><span class=\"line\"></span><br><span class=\"line\">-P: 随机端口映射，容器内部端口随机映射到主机的端口</span><br><span class=\"line\"></span><br><span class=\"line\">-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</span><br><span class=\"line\"></span><br><span class=\"line\">-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class=\"line\"></span><br><span class=\"line\">--name=&quot;nginx-lb&quot;: 为容器指定一个名称；</span><br><span class=\"line\"></span><br><span class=\"line\">--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；</span><br><span class=\"line\"></span><br><span class=\"line\">--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；</span><br><span class=\"line\"></span><br><span class=\"line\">-h &quot;mars&quot;: 指定容器的hostname；</span><br><span class=\"line\"></span><br><span class=\"line\">-e username=&quot;ritchie&quot;: 设置环境变量；</span><br><span class=\"line\"></span><br><span class=\"line\">--env-file=[]: 从指定文件读入环境变量；</span><br><span class=\"line\"></span><br><span class=\"line\">--cpuset=&quot;0-2&quot; or --cpuset=&quot;0,1,2&quot;: 绑定容器到指定CPU运行；</span><br><span class=\"line\"></span><br><span class=\"line\">-m :设置容器使用内存最大值；</span><br><span class=\"line\"></span><br><span class=\"line\">--net=&quot;bridge&quot;: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；</span><br><span class=\"line\"></span><br><span class=\"line\">--link=[]: 添加链接到另一个容器；</span><br><span class=\"line\"></span><br><span class=\"line\">--expose=[]: 开放一个端口或一组端口；</span><br><span class=\"line\"></span><br><span class=\"line\">--volume , -v: 绑定一个卷</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd busybox:1.29.3</span><br><span class=\"line\">docker exec -it 482aed1fe41 sh</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-70a13111.png\" alt=\"\"></p>\n<ul>\n<li>进入运行中的容器并修改配置文件。<br>\n<img src=\"assets/3.1.docker-build-client-fcd4285e.png\" alt=\"\"></li>\n</ul>\n<h3 id=\"3-提交一个新的容器\">3. 提交一个新的容器</h3>\n<ul>\n<li>对刚才修改后的容器保存一个新镜像。</li>\n</ul>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker commit 482aed1fe41 mybusybox:v0.1</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.1.docker-build-client-2fb8c48f.png\" alt=\"\"></p>\n<h3 id=\"4-验证新的容器\">4. 验证新的容器</h3>\n<p><img src=\"assets/3.1.docker-build-client-55282df1.png\" alt=\"\"></p>\n"},{"_content":"# 3.1.Docker镜像构建\n* [3.1.Docker镜像构建](3.1.docker-build.md)\n    * [3.1.1 场景一、命令行构建](3.1.1docker-build-client.md)\n    * [3.1.2 场景二、Dockerfile构建](3.1.2docker-build-dockerfile.md)\n","source":"docker/3.1.docker-build.md","raw":"# 3.1.Docker镜像构建\n* [3.1.Docker镜像构建](3.1.docker-build.md)\n    * [3.1.1 场景一、命令行构建](3.1.1docker-build-client.md)\n    * [3.1.2 场景二、Dockerfile构建](3.1.2docker-build-dockerfile.md)\n","date":"2021-07-17T06:24:51.333Z","updated":"2021-01-14T01:19:26.020Z","path":"docker/3.1.docker-build.html","title":"","comments":1,"layout":"page","_id":"ckr8m9taq000apds6atjsg04o","content":"<h1>3.1.Docker镜像构建</h1>\n<ul>\n<li><a href=\"3.1.docker-build.md\">3.1.Docker镜像构建</a>\n<ul>\n<li><a href=\"3.1.1docker-build-client.md\">3.1.1 场景一、命令行构建</a></li>\n<li><a href=\"3.1.2docker-build-dockerfile.md\">3.1.2 场景二、Dockerfile构建</a></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.1.Docker镜像构建</h1>\n<ul>\n<li><a href=\"3.1.docker-build.md\">3.1.Docker镜像构建</a>\n<ul>\n<li><a href=\"3.1.1docker-build-client.md\">3.1.1 场景一、命令行构建</a></li>\n<li><a href=\"3.1.2docker-build-dockerfile.md\">3.1.2 场景二、Dockerfile构建</a></li>\n</ul>\n</li>\n</ul>\n"},{"_content":"# 3.3.war包应用构建\n\n### 准备工作，1.数据库准备，程序源码\n```shell\nhttps://192.168.0.29:8443/svn/200103/trunk/05.Code/cok/cok-war\n```\n### 1.准备cok-war包，编写镜像文件Dockerfile：\n```shell\nfrom tomcat:8.5.55-jdk8\nRUN rm -fr /usr/local/tomcat/webapps/ROOT\nCOPY target/cok-war /usr/local/tomcat/webapps/ROOT\n```\n### 2.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/cok-war:v1.0 .\n```\n### 3.启动容器：\n```shell\ndocker run -itd  --name cok-war -v /root/luojunjie/docker/war/cok-war/jdbc.properties:/usr/local/tomcat/webapps/ROOT/WEB-INF/classes/prop/jdbc.properties -p 18080:8080  hub.aosccs.com.cn:8888/test1/cok-war:v1.0\n```\n### 4.访问：\nhttp://192.168.3.6:18080/test/index\n![](assets/3.3.docker-build-war-1c2f92f2.png)\n","source":"docker/3.3.docker-build-war.md","raw":"# 3.3.war包应用构建\n\n### 准备工作，1.数据库准备，程序源码\n```shell\nhttps://192.168.0.29:8443/svn/200103/trunk/05.Code/cok/cok-war\n```\n### 1.准备cok-war包，编写镜像文件Dockerfile：\n```shell\nfrom tomcat:8.5.55-jdk8\nRUN rm -fr /usr/local/tomcat/webapps/ROOT\nCOPY target/cok-war /usr/local/tomcat/webapps/ROOT\n```\n### 2.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/cok-war:v1.0 .\n```\n### 3.启动容器：\n```shell\ndocker run -itd  --name cok-war -v /root/luojunjie/docker/war/cok-war/jdbc.properties:/usr/local/tomcat/webapps/ROOT/WEB-INF/classes/prop/jdbc.properties -p 18080:8080  hub.aosccs.com.cn:8888/test1/cok-war:v1.0\n```\n### 4.访问：\nhttp://192.168.3.6:18080/test/index\n![](assets/3.3.docker-build-war-1c2f92f2.png)\n","date":"2021-07-17T06:24:51.347Z","updated":"2021-01-14T01:19:26.024Z","path":"docker/3.3.docker-build-war.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tar000bpds66aaxbckx","content":"<h1>3.3.war包应用构建</h1>\n<h3 id=\"准备工作，1-数据库准备，程序源码\">准备工作，1.数据库准备，程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://192.168.0.29:8443/svn/200103/trunk/05.Code/cok/cok-war</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-准备cok-war包，编写镜像文件Dockerfile：\">1.准备cok-war包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from tomcat:8.5.55-jdk8</span><br><span class=\"line\">RUN rm -fr /usr/local/tomcat/webapps/ROOT</span><br><span class=\"line\">COPY target/cok-war /usr/local/tomcat/webapps/ROOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-构建镜像文件Dockerfile：\">2.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/cok-war:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动容器：\">3.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd  --name cok-war -v /root/luojunjie/docker/war/cok-war/jdbc.properties:/usr/local/tomcat/webapps/ROOT/WEB-INF/classes/prop/jdbc.properties -p 18080:8080  hub.aosccs.com.cn:8888/test1/cok-war:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-访问：\">4.访问：</h3>\n<p><a href=\"http://192.168.3.6:18080/test/index\">http://192.168.3.6:18080/test/index</a><br>\n<img src=\"assets/3.3.docker-build-war-1c2f92f2.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.3.war包应用构建</h1>\n<h3 id=\"准备工作，1-数据库准备，程序源码\">准备工作，1.数据库准备，程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://192.168.0.29:8443/svn/200103/trunk/05.Code/cok/cok-war</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-准备cok-war包，编写镜像文件Dockerfile：\">1.准备cok-war包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from tomcat:8.5.55-jdk8</span><br><span class=\"line\">RUN rm -fr /usr/local/tomcat/webapps/ROOT</span><br><span class=\"line\">COPY target/cok-war /usr/local/tomcat/webapps/ROOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-构建镜像文件Dockerfile：\">2.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/cok-war:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动容器：\">3.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd  --name cok-war -v /root/luojunjie/docker/war/cok-war/jdbc.properties:/usr/local/tomcat/webapps/ROOT/WEB-INF/classes/prop/jdbc.properties -p 18080:8080  hub.aosccs.com.cn:8888/test1/cok-war:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-访问：\">4.访问：</h3>\n<p><a href=\"http://192.168.3.6:18080/test/index\">http://192.168.3.6:18080/test/index</a><br>\n<img src=\"assets/3.3.docker-build-war-1c2f92f2.png\" alt=\"\"></p>\n"},{"_content":"# 3.4.前端应用构建\n### 准备工作，1.程序源码\n```shell\nhttps://gitee.com/olivee/cok/tree/master/cok-source-vue\n```\n### 1.准备vue包，编写镜像文件Dockerfile：\n```shell\nFROM nginx:1.18-alpine\nCOPY dist /usr/share/nginx/html/cok-ui/\n```\n```\n### 2.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0 .\n```\n### 3.启动容器：\n```shell\ndocker run -itd --name cok-source-vue -p 18090:80  hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0\n```\n### 4.访问：\nhttp://192.168.3.6:18090/cok-ui/index.html#/\n![](assets/3.4.docker-build-npm-288a73a3.png)\n","source":"docker/3.4.docker-build-npm.md","raw":"# 3.4.前端应用构建\n### 准备工作，1.程序源码\n```shell\nhttps://gitee.com/olivee/cok/tree/master/cok-source-vue\n```\n### 1.准备vue包，编写镜像文件Dockerfile：\n```shell\nFROM nginx:1.18-alpine\nCOPY dist /usr/share/nginx/html/cok-ui/\n```\n```\n### 2.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0 .\n```\n### 3.启动容器：\n```shell\ndocker run -itd --name cok-source-vue -p 18090:80  hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0\n```\n### 4.访问：\nhttp://192.168.3.6:18090/cok-ui/index.html#/\n![](assets/3.4.docker-build-npm-288a73a3.png)\n","date":"2021-07-17T06:24:51.364Z","updated":"2021-01-14T01:19:26.026Z","path":"docker/3.4.docker-build-npm.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tas000cpds64gkghjv6","content":"<h1>3.4.前端应用构建</h1>\n<h3 id=\"准备工作，1-程序源码\">准备工作，1.程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://gitee.com/olivee/cok/tree/master/cok-source-vue</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-准备vue包，编写镜像文件Dockerfile：\">1.准备vue包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM nginx:1.18-alpine</span><br><span class=\"line\">COPY dist /usr/share/nginx/html/cok-ui/</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">### 2.构建镜像文件Dockerfile：</span><br><span class=\"line\">```shell</span><br><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动容器：\">3.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name cok-source-vue -p 18090:80  hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-访问：\">4.访问：</h3>\n<p><a href=\"http://192.168.3.6:18090/cok-ui/index.html#/\">http://192.168.3.6:18090/cok-ui/index.html#/</a><br>\n<img src=\"assets/3.4.docker-build-npm-288a73a3.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.4.前端应用构建</h1>\n<h3 id=\"准备工作，1-程序源码\">准备工作，1.程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://gitee.com/olivee/cok/tree/master/cok-source-vue</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-准备vue包，编写镜像文件Dockerfile：\">1.准备vue包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM nginx:1.18-alpine</span><br><span class=\"line\">COPY dist /usr/share/nginx/html/cok-ui/</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">### 2.构建镜像文件Dockerfile：</span><br><span class=\"line\">```shell</span><br><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动容器：\">3.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name cok-source-vue -p 18090:80  hub.aosccs.com.cn:8888/test1/cok-source-vue:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-访问：\">4.访问：</h3>\n<p><a href=\"http://192.168.3.6:18090/cok-ui/index.html#/\">http://192.168.3.6:18090/cok-ui/index.html#/</a><br>\n<img src=\"assets/3.4.docker-build-npm-288a73a3.png\" alt=\"\"></p>\n"},{"_content":"# 3.5.go应用构建\n### 准备工作，1.程序源码\n```shell\npackage main\n\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"time\"\n)\n\nfunc sayHello(w http.ResponseWriter, r *http.Request) {\n      new :=time.Now()\n     fmt.Fprintf(w,new.Format(\"2006-01-02 15:04:05\"))    \n     fmt.Fprintf(w, \"欢迎参加docker培训\")\n}\nfunc main() {\n    http.HandleFunc(\"/\", sayHello)//注册URI路径\n    log.Println(\"【docker项目】服务启动成功 监听端口 80\")\n    er := http.ListenAndServe(\"0.0.0.0:80\", nil)\n    if er != nil {\n        log.Fatal(\"ListenAndServe: \", er)\n    }\n\n}\n\n```\n### 1.go 加入依赖库编译：\n```shell\nCGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main main.go\n```\n### 2.编写镜像文件Dockerfile：\n```shell\nFROM scratch\nADD main /\nENTRYPOINT [\"/main\"]\n```\n### 3.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0 .\n```\n### 4.启动容器：\n```shell\ndocker run -itd --name go-web-demo -p 18070:80  hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0\n```\n### 5.访问：\nhttp://192.168.3.6:18070/\n![](assets/3.5.docker-build-go-cab4c619.png)\n","source":"docker/3.5.docker-build-go.md","raw":"# 3.5.go应用构建\n### 准备工作，1.程序源码\n```shell\npackage main\n\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"time\"\n)\n\nfunc sayHello(w http.ResponseWriter, r *http.Request) {\n      new :=time.Now()\n     fmt.Fprintf(w,new.Format(\"2006-01-02 15:04:05\"))    \n     fmt.Fprintf(w, \"欢迎参加docker培训\")\n}\nfunc main() {\n    http.HandleFunc(\"/\", sayHello)//注册URI路径\n    log.Println(\"【docker项目】服务启动成功 监听端口 80\")\n    er := http.ListenAndServe(\"0.0.0.0:80\", nil)\n    if er != nil {\n        log.Fatal(\"ListenAndServe: \", er)\n    }\n\n}\n\n```\n### 1.go 加入依赖库编译：\n```shell\nCGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main main.go\n```\n### 2.编写镜像文件Dockerfile：\n```shell\nFROM scratch\nADD main /\nENTRYPOINT [\"/main\"]\n```\n### 3.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0 .\n```\n### 4.启动容器：\n```shell\ndocker run -itd --name go-web-demo -p 18070:80  hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0\n```\n### 5.访问：\nhttp://192.168.3.6:18070/\n![](assets/3.5.docker-build-go-cab4c619.png)\n","date":"2021-07-17T06:24:51.371Z","updated":"2021-01-14T01:19:26.029Z","path":"docker/3.5.docker-build-go.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tas000dpds6dwo90e44","content":"<h1>3.5.go应用构建</h1>\n<h3 id=\"准备工作，1-程序源码\">准备工作，1.程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">    &quot;fmt&quot;</span><br><span class=\"line\">    &quot;log&quot;</span><br><span class=\"line\">    &quot;net/http&quot;</span><br><span class=\"line\">    &quot;time&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">func sayHello(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class=\"line\">      new :=time.Now()</span><br><span class=\"line\">     fmt.Fprintf(w,new.Format(&quot;2006-01-02 15:04:05&quot;))    </span><br><span class=\"line\">     fmt.Fprintf(w, &quot;欢迎参加docker培训&quot;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">    http.HandleFunc(&quot;/&quot;, sayHello)//注册URI路径</span><br><span class=\"line\">    log.Println(&quot;【docker项目】服务启动成功 监听端口 80&quot;)</span><br><span class=\"line\">    er := http.ListenAndServe(&quot;0.0.0.0:80&quot;, nil)</span><br><span class=\"line\">    if er != nil &#123;</span><br><span class=\"line\">        log.Fatal(&quot;ListenAndServe: &quot;, er)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"1-go-加入依赖库编译：\">1.go 加入依赖库编译：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main main.go</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-编写镜像文件Dockerfile：\">2.编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM scratch</span><br><span class=\"line\">ADD main /</span><br><span class=\"line\">ENTRYPOINT [&quot;/main&quot;]</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-构建镜像文件Dockerfile：\">3.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-启动容器：\">4.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name go-web-demo -p 18070:80  hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-访问：\">5.访问：</h3>\n<p><a href=\"http://192.168.3.6:18070/\">http://192.168.3.6:18070/</a><br>\n<img src=\"assets/3.5.docker-build-go-cab4c619.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.5.go应用构建</h1>\n<h3 id=\"准备工作，1-程序源码\">准备工作，1.程序源码</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">    &quot;fmt&quot;</span><br><span class=\"line\">    &quot;log&quot;</span><br><span class=\"line\">    &quot;net/http&quot;</span><br><span class=\"line\">    &quot;time&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">func sayHello(w http.ResponseWriter, r *http.Request) &#123;</span><br><span class=\"line\">      new :=time.Now()</span><br><span class=\"line\">     fmt.Fprintf(w,new.Format(&quot;2006-01-02 15:04:05&quot;))    </span><br><span class=\"line\">     fmt.Fprintf(w, &quot;欢迎参加docker培训&quot;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">func main() &#123;</span><br><span class=\"line\">    http.HandleFunc(&quot;/&quot;, sayHello)//注册URI路径</span><br><span class=\"line\">    log.Println(&quot;【docker项目】服务启动成功 监听端口 80&quot;)</span><br><span class=\"line\">    er := http.ListenAndServe(&quot;0.0.0.0:80&quot;, nil)</span><br><span class=\"line\">    if er != nil &#123;</span><br><span class=\"line\">        log.Fatal(&quot;ListenAndServe: &quot;, er)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"1-go-加入依赖库编译：\">1.go 加入依赖库编译：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main main.go</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-编写镜像文件Dockerfile：\">2.编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM scratch</span><br><span class=\"line\">ADD main /</span><br><span class=\"line\">ENTRYPOINT [&quot;/main&quot;]</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-构建镜像文件Dockerfile：\">3.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0 .</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-启动容器：\">4.启动容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --name go-web-demo -p 18070:80  hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-访问：\">5.访问：</h3>\n<p><a href=\"http://192.168.3.6:18070/\">http://192.168.3.6:18070/</a><br>\n<img src=\"assets/3.5.docker-build-go-cab4c619.png\" alt=\"\"></p>\n"},{"_content":"# 3.2.微服务应用构建\n### 准备工作，1.准备微服务需要的数据库，redis。2.微服务容器网络创建：\n```shell\ndocker network create -d bridge acloudbridge\n```\n![](assets/3.2.docker-build-cloud-d6ef43c8.png)\n### 1.准备微服务eureka jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\nCOPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18003\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 2.构建镜像文件Dockerfile：\n```shell\n[root@host-192-168-3-6 eureka]# docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT .\nSending build context to Docker daemon  66.82MB\nStep 1/7 : FROM openjdk:8-jre-alpine\n ---> f7a292bbb70c\nStep 2/7 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n ---> Using cache\n ---> 692554e348a5\nStep 3/7 : MAINTAINER xxx@sgcc.com.cn\n ---> Using cache\n ---> 7b6f340614d6\nStep 4/7 : COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar\n ---> Using cache\n ---> 17acd0f679c0\nStep 5/7 : WORKDIR /u01\n ---> Using cache\n ---> f9983504e266\nStep 6/7 : EXPOSE 18003\n ---> Using cache\n ---> 7018737f83e5\nStep 7/7 : CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n ---> Running in 3499e7c24271\nRemoving intermediate container 3499e7c24271\n ---> ddf59ada10d6\nSuccessfully built ddf59ada10d6\nSuccessfully tagged hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT\n```\n### 3.启动eureka容器：\n```shell\ndocker run -itd --network acloudbridge  --name acloud-eureka -p 18003:18003 -v /root/luojunjie/docker/acloud/eureka/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/eureka/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/eureka/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT  \n```\n![](assets/3.2.docker-build-cloud-81f63f76.png)\n\n### 4.准备微服务zuul jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\n\nCOPY acloud-bc-zuul-server-1.5.0-20191205.105939-106.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18000\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 5.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT .\n```\n### 6.启动zuul容器：\n```shell\ndocker run -itd --network acloudbridge -p 18000:18000 -v /root/luojunjie/docker/acloud/zuul/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/zuul/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/zuul/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT\n```\n### 7.准备微服务family jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\n\nCOPY acloud-family-server-jdbc-1.5.0-20191205.110300-143.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18001\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 8.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT .\n```\n### 9.启动family容器：\n```shell\ndocker run -itd --network acloudbridge -p 18001:18001 -v /root/luojunjie/docker/acloud/family/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/family/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/family/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT  \n```\n### 10.登录微服务：\ndocker 查询结果\n![](assets/3.2.docker-build-cloud-6357415e.png)\n\n![](assets/3.2.docker-build-cloud-74350e49.png)\n","source":"docker/3.2.docker-build-cloud.md","raw":"# 3.2.微服务应用构建\n### 准备工作，1.准备微服务需要的数据库，redis。2.微服务容器网络创建：\n```shell\ndocker network create -d bridge acloudbridge\n```\n![](assets/3.2.docker-build-cloud-d6ef43c8.png)\n### 1.准备微服务eureka jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\nCOPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18003\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 2.构建镜像文件Dockerfile：\n```shell\n[root@host-192-168-3-6 eureka]# docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT .\nSending build context to Docker daemon  66.82MB\nStep 1/7 : FROM openjdk:8-jre-alpine\n ---> f7a292bbb70c\nStep 2/7 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n ---> Using cache\n ---> 692554e348a5\nStep 3/7 : MAINTAINER xxx@sgcc.com.cn\n ---> Using cache\n ---> 7b6f340614d6\nStep 4/7 : COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar\n ---> Using cache\n ---> 17acd0f679c0\nStep 5/7 : WORKDIR /u01\n ---> Using cache\n ---> f9983504e266\nStep 6/7 : EXPOSE 18003\n ---> Using cache\n ---> 7018737f83e5\nStep 7/7 : CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n ---> Running in 3499e7c24271\nRemoving intermediate container 3499e7c24271\n ---> ddf59ada10d6\nSuccessfully built ddf59ada10d6\nSuccessfully tagged hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT\n```\n### 3.启动eureka容器：\n```shell\ndocker run -itd --network acloudbridge  --name acloud-eureka -p 18003:18003 -v /root/luojunjie/docker/acloud/eureka/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/eureka/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/eureka/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT  \n```\n![](assets/3.2.docker-build-cloud-81f63f76.png)\n\n### 4.准备微服务zuul jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\n\nCOPY acloud-bc-zuul-server-1.5.0-20191205.105939-106.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18000\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 5.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT .\n```\n### 6.启动zuul容器：\n```shell\ndocker run -itd --network acloudbridge -p 18000:18000 -v /root/luojunjie/docker/acloud/zuul/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/zuul/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/zuul/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT\n```\n### 7.准备微服务family jar包，编写镜像文件Dockerfile：\n```shell\nFROM openjdk:8-jre-alpine\n\nMAINTAINER xxx@sgcc.com.cn\n\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && echo 'Asia/Shanghai' >/etc/timezone\n\n\nCOPY acloud-family-server-jdbc-1.5.0-20191205.110300-143.jar /u01/app.jar\n\nWORKDIR /u01\n\nEXPOSE 18001\n\nCMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar\n```\n### 8.构建镜像文件Dockerfile：\n```shell\ndocker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT .\n```\n### 9.启动family容器：\n```shell\ndocker run -itd --network acloudbridge -p 18001:18001 -v /root/luojunjie/docker/acloud/family/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/family/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/family/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT  \n```\n### 10.登录微服务：\ndocker 查询结果\n![](assets/3.2.docker-build-cloud-6357415e.png)\n\n![](assets/3.2.docker-build-cloud-74350e49.png)\n","date":"2021-07-17T06:24:51.337Z","updated":"2021-01-14T01:19:25.831Z","path":"docker/3.2.docker-build-cloud.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tat000epds6g5qmersv","content":"<h1>3.2.微服务应用构建</h1>\n<h3 id=\"准备工作，1-准备微服务需要的数据库，redis。2-微服务容器网络创建：\">准备工作，1.准备微服务需要的数据库，redis。2.微服务容器网络创建：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker network create -d bridge acloudbridge</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.2.docker-build-cloud-d6ef43c8.png\" alt=\"\"></p>\n<h3 id=\"1-准备微服务eureka-jar包，编写镜像文件Dockerfile：\">1.准备微服务eureka jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18003</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-构建镜像文件Dockerfile：\">2.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@host-192-168-3-6 eureka]# docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT .</span><br><span class=\"line\">Sending build context to Docker daemon  66.82MB</span><br><span class=\"line\">Step 1/7 : FROM openjdk:8-jre-alpine</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f7a292bbb70c</span></span><br><span class=\"line\">Step 2/7 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 692554e348a5</span></span><br><span class=\"line\">Step 3/7 : MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 7b6f340614d6</span></span><br><span class=\"line\">Step 4/7 : COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 17acd0f679c0</span></span><br><span class=\"line\">Step 5/7 : WORKDIR /u01</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f9983504e266</span></span><br><span class=\"line\">Step 6/7 : EXPOSE 18003</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 7018737f83e5</span></span><br><span class=\"line\">Step 7/7 : CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Running <span class=\"keyword\">in</span> 3499e7c24271</span></span><br><span class=\"line\">Removing intermediate container 3499e7c24271</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> ddf59ada10d6</span></span><br><span class=\"line\">Successfully built ddf59ada10d6</span><br><span class=\"line\">Successfully tagged hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动eureka容器：\">3.启动eureka容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge  --name acloud-eureka -p 18003:18003 -v /root/luojunjie/docker/acloud/eureka/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/eureka/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/eureka/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT  </span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.2.docker-build-cloud-81f63f76.png\" alt=\"\"></p>\n<h3 id=\"4-准备微服务zuul-jar包，编写镜像文件Dockerfile：\">4.准备微服务zuul jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-bc-zuul-server-1.5.0-20191205.105939-106.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18000</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-构建镜像文件Dockerfile：\">5.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT .</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-启动zuul容器：\">6.启动zuul容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge -p 18000:18000 -v /root/luojunjie/docker/acloud/zuul/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/zuul/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/zuul/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-准备微服务family-jar包，编写镜像文件Dockerfile：\">7.准备微服务family jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-family-server-jdbc-1.5.0-20191205.110300-143.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18001</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-构建镜像文件Dockerfile：\">8.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT .</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-启动family容器：\">9.启动family容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge -p 18001:18001 -v /root/luojunjie/docker/acloud/family/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/family/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/family/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT  </span><br></pre></td></tr></table></figure>\n<h3 id=\"10-登录微服务：\">10.登录微服务：</h3>\n<p>docker 查询结果<br>\n<img src=\"assets/3.2.docker-build-cloud-6357415e.png\" alt=\"\"></p>\n<p><img src=\"assets/3.2.docker-build-cloud-74350e49.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.2.微服务应用构建</h1>\n<h3 id=\"准备工作，1-准备微服务需要的数据库，redis。2-微服务容器网络创建：\">准备工作，1.准备微服务需要的数据库，redis。2.微服务容器网络创建：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker network create -d bridge acloudbridge</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.2.docker-build-cloud-d6ef43c8.png\" alt=\"\"></p>\n<h3 id=\"1-准备微服务eureka-jar包，编写镜像文件Dockerfile：\">1.准备微服务eureka jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18003</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-构建镜像文件Dockerfile：\">2.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@host-192-168-3-6 eureka]# docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT .</span><br><span class=\"line\">Sending build context to Docker daemon  66.82MB</span><br><span class=\"line\">Step 1/7 : FROM openjdk:8-jre-alpine</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f7a292bbb70c</span></span><br><span class=\"line\">Step 2/7 : RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 692554e348a5</span></span><br><span class=\"line\">Step 3/7 : MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 7b6f340614d6</span></span><br><span class=\"line\">Step 4/7 : COPY acloud-bc-eureka-server-1.5.0-20191104.021740-73.jar /u01/app.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 17acd0f679c0</span></span><br><span class=\"line\">Step 5/7 : WORKDIR /u01</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> f9983504e266</span></span><br><span class=\"line\">Step 6/7 : EXPOSE 18003</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Using cache</span></span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> 7018737f83e5</span></span><br><span class=\"line\">Step 7/7 : CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> Running <span class=\"keyword\">in</span> 3499e7c24271</span></span><br><span class=\"line\">Removing intermediate container 3499e7c24271</span><br><span class=\"line\"><span class=\"meta\"> ---&gt;</span><span class=\"bash\"> ddf59ada10d6</span></span><br><span class=\"line\">Successfully built ddf59ada10d6</span><br><span class=\"line\">Successfully tagged hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-启动eureka容器：\">3.启动eureka容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge  --name acloud-eureka -p 18003:18003 -v /root/luojunjie/docker/acloud/eureka/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/eureka/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/eureka/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-eureka-server:1.5.0-SNAPSHOT  </span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/3.2.docker-build-cloud-81f63f76.png\" alt=\"\"></p>\n<h3 id=\"4-准备微服务zuul-jar包，编写镜像文件Dockerfile：\">4.准备微服务zuul jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-bc-zuul-server-1.5.0-20191205.105939-106.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18000</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-构建镜像文件Dockerfile：\">5.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT .</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-启动zuul容器：\">6.启动zuul容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge -p 18000:18000 -v /root/luojunjie/docker/acloud/zuul/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/zuul/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/zuul/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-zuul-server:1.5.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-准备微服务family-jar包，编写镜像文件Dockerfile：\">7.准备微服务family jar包，编写镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM openjdk:8-jre-alpine</span><br><span class=\"line\"></span><br><span class=\"line\">MAINTAINER xxx@sgcc.com.cn</span><br><span class=\"line\"></span><br><span class=\"line\">RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">COPY acloud-family-server-jdbc-1.5.0-20191205.110300-143.jar /u01/app.jar</span><br><span class=\"line\"></span><br><span class=\"line\">WORKDIR /u01</span><br><span class=\"line\"></span><br><span class=\"line\">EXPOSE 18001</span><br><span class=\"line\"></span><br><span class=\"line\">CMD java -Xmx512M -Xms512M -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m -jar app.jar</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-构建镜像文件Dockerfile：\">8.构建镜像文件Dockerfile：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT .</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-启动family容器：\">9.启动family容器：</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -itd --network acloudbridge -p 18001:18001 -v /root/luojunjie/docker/acloud/family/logs:/u01/target/logs  -v /root/luojunjie/docker/acloud/family/application.yml:/u01/application.yml -v /root/luojunjie/docker/acloud/family/bootstrap.yml:/u01/bootstrap.yml  hub.aosccs.com.cn:8888/test1/docker-acloud-bc-family-server:1.5.0-SNAPSHOT  </span><br></pre></td></tr></table></figure>\n<h3 id=\"10-登录微服务：\">10.登录微服务：</h3>\n<p>docker 查询结果<br>\n<img src=\"assets/3.2.docker-build-cloud-6357415e.png\" alt=\"\"></p>\n<p><img src=\"assets/3.2.docker-build-cloud-74350e49.png\" alt=\"\"></p>\n"},{"_content":"# 3.6.Docker镜像文件编写技巧\n### 1.镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。\n\n### 2.镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。\n","source":"docker/3.6.docker-build-skill.md","raw":"# 3.6.Docker镜像文件编写技巧\n### 1.镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。\n\n### 2.镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。\n","date":"2021-07-17T06:24:51.377Z","updated":"2021-01-14T01:19:26.031Z","path":"docker/3.6.docker-build-skill.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tat000fpds6gpr92t2i","content":"<h1>3.6.Docker镜像文件编写技巧</h1>\n<h3 id=\"1-镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。\">1.镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。</h3>\n<h3 id=\"2-镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。\">2.镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。</h3>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.6.Docker镜像文件编写技巧</h1>\n<h3 id=\"1-镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。\">1.镜像默认时区是0区，跟东八区相差8个小时，所以部署服务的时候要注意这个差异。</h3>\n<h3 id=\"2-镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。\">2.镜像不是越小越好，是越适用越好，构建初期涉及到部署问题的发现和调试，建议可以装一些适用的工具，在稳定后再取消。</h3>\n"},{"_content":"# 3.在k8s持久化存储\n- pv和pvc和sc的生命周期\n![](assets/3.storage-in-k8s-2397258e.png)\n## 3.1. PV\n- 持久化卷， 支持本地存储和网络存储， 例如hostpath，ceph rbd， nfs等，只支持两个属性， capacity和accessModes。其中capacity只支持size的定义，不支持iops等参数的设定，accessModes有三种，ReadWriteOnce（被单个node读写）， ReadOnlyMany（被多个nodes读）， ReadWriteMany（被多个nodes读写）\n```shell\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  labels:\n    app: workspaces-pv\n  name: workspaces-pv\nspec:\n  accessModes:\n  - ReadWriteMany\n  capacity:\n    storage: 5Gi\n  claimRef:\n    apiVersion: v1\n    kind: PersistentVolumeClaim\n    name: workspaces-pvc\n    namespace: portal-nx\n  nfs:\n    path: /home/nfs/workspaces-pvc\n    server: 192.168.3.149\n  persistentVolumeReclaimPolicy: Retain\n  volumeMode: Filesystem\n```\n\n## 3.2. PVC\n- 对pv或者storageclass资源的请求， pvc 对 pv 类比于pod 对不同的cpu， mem的请求。\n```shell\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  annotations:\n    volume.beta.kubernetes.io/storage-provisioner: fuseim.pri/ifs\n  name: mysql-data\n  namespace: esp\nspec:\n  accessModes:\n  - ReadWriteMany\n  resources:\n    requests:\n      storage: 20Gi\n  storageClassName: managed-nfs-storage\n```\n## 3.3. storageclass\n- 另外一种提供存储资源的方式， 提供更多的层级选型， 如iops等参数。 但是具体的参数与提供方是绑定的。 如aws和gce它们提供的storageclass的参数可选项是有不同的。\n```shell\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: managed-nfs-storage\nparameters:\n  archiveOnDelete: \"false\"\nprovisioner: fuseim.pri/ifs\nreclaimPolicy: Delete\nvolumeBindingMode: Immediate\n```\n","source":"docker/3.storage-in-k8s.md","raw":"# 3.在k8s持久化存储\n- pv和pvc和sc的生命周期\n![](assets/3.storage-in-k8s-2397258e.png)\n## 3.1. PV\n- 持久化卷， 支持本地存储和网络存储， 例如hostpath，ceph rbd， nfs等，只支持两个属性， capacity和accessModes。其中capacity只支持size的定义，不支持iops等参数的设定，accessModes有三种，ReadWriteOnce（被单个node读写）， ReadOnlyMany（被多个nodes读）， ReadWriteMany（被多个nodes读写）\n```shell\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  labels:\n    app: workspaces-pv\n  name: workspaces-pv\nspec:\n  accessModes:\n  - ReadWriteMany\n  capacity:\n    storage: 5Gi\n  claimRef:\n    apiVersion: v1\n    kind: PersistentVolumeClaim\n    name: workspaces-pvc\n    namespace: portal-nx\n  nfs:\n    path: /home/nfs/workspaces-pvc\n    server: 192.168.3.149\n  persistentVolumeReclaimPolicy: Retain\n  volumeMode: Filesystem\n```\n\n## 3.2. PVC\n- 对pv或者storageclass资源的请求， pvc 对 pv 类比于pod 对不同的cpu， mem的请求。\n```shell\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  annotations:\n    volume.beta.kubernetes.io/storage-provisioner: fuseim.pri/ifs\n  name: mysql-data\n  namespace: esp\nspec:\n  accessModes:\n  - ReadWriteMany\n  resources:\n    requests:\n      storage: 20Gi\n  storageClassName: managed-nfs-storage\n```\n## 3.3. storageclass\n- 另外一种提供存储资源的方式， 提供更多的层级选型， 如iops等参数。 但是具体的参数与提供方是绑定的。 如aws和gce它们提供的storageclass的参数可选项是有不同的。\n```shell\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: managed-nfs-storage\nparameters:\n  archiveOnDelete: \"false\"\nprovisioner: fuseim.pri/ifs\nreclaimPolicy: Delete\nvolumeBindingMode: Immediate\n```\n","date":"2021-07-17T06:24:51.389Z","updated":"2021-01-14T01:19:25.999Z","path":"docker/3.storage-in-k8s.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tau000gpds66eheh9rv","content":"<h1>3.在k8s持久化存储</h1>\n<ul>\n<li>pv和pvc和sc的生命周期<br>\n<img src=\"assets/3.storage-in-k8s-2397258e.png\" alt=\"\"></li>\n</ul>\n<h2 id=\"3-1-PV\">3.1. PV</h2>\n<ul>\n<li>持久化卷， 支持本地存储和网络存储， 例如hostpath，ceph rbd， nfs等，只支持两个属性， capacity和accessModes。其中capacity只支持size的定义，不支持iops等参数的设定，accessModes有三种，ReadWriteOnce（被单个node读写）， ReadOnlyMany（被多个nodes读）， ReadWriteMany（被多个nodes读写）</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: PersistentVolume</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  labels:</span><br><span class=\"line\">    app: workspaces-pv</span><br><span class=\"line\">  name: workspaces-pv</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  accessModes:</span><br><span class=\"line\">  - ReadWriteMany</span><br><span class=\"line\">  capacity:</span><br><span class=\"line\">    storage: 5Gi</span><br><span class=\"line\">  claimRef:</span><br><span class=\"line\">    apiVersion: v1</span><br><span class=\"line\">    kind: PersistentVolumeClaim</span><br><span class=\"line\">    name: workspaces-pvc</span><br><span class=\"line\">    namespace: portal-nx</span><br><span class=\"line\">  nfs:</span><br><span class=\"line\">    path: /home/nfs/workspaces-pvc</span><br><span class=\"line\">    server: 192.168.3.149</span><br><span class=\"line\">  persistentVolumeReclaimPolicy: Retain</span><br><span class=\"line\">  volumeMode: Filesystem</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-2-PVC\">3.2. PVC</h2>\n<ul>\n<li>对pv或者storageclass资源的请求， pvc 对 pv 类比于pod 对不同的cpu， mem的请求。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: PersistentVolumeClaim</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  annotations:</span><br><span class=\"line\">    volume.beta.kubernetes.io/storage-provisioner: fuseim.pri/ifs</span><br><span class=\"line\">  name: mysql-data</span><br><span class=\"line\">  namespace: esp</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  accessModes:</span><br><span class=\"line\">  - ReadWriteMany</span><br><span class=\"line\">  resources:</span><br><span class=\"line\">    requests:</span><br><span class=\"line\">      storage: 20Gi</span><br><span class=\"line\">  storageClassName: managed-nfs-storage</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-3-storageclass\">3.3. storageclass</h2>\n<ul>\n<li>另外一种提供存储资源的方式， 提供更多的层级选型， 如iops等参数。 但是具体的参数与提供方是绑定的。 如aws和gce它们提供的storageclass的参数可选项是有不同的。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: storage.k8s.io/v1</span><br><span class=\"line\">kind: StorageClass</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: managed-nfs-storage</span><br><span class=\"line\">parameters:</span><br><span class=\"line\">  archiveOnDelete: &quot;false&quot;</span><br><span class=\"line\">provisioner: fuseim.pri/ifs</span><br><span class=\"line\">reclaimPolicy: Delete</span><br><span class=\"line\">volumeBindingMode: Immediate</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.在k8s持久化存储</h1>\n<ul>\n<li>pv和pvc和sc的生命周期<br>\n<img src=\"assets/3.storage-in-k8s-2397258e.png\" alt=\"\"></li>\n</ul>\n<h2 id=\"3-1-PV\">3.1. PV</h2>\n<ul>\n<li>持久化卷， 支持本地存储和网络存储， 例如hostpath，ceph rbd， nfs等，只支持两个属性， capacity和accessModes。其中capacity只支持size的定义，不支持iops等参数的设定，accessModes有三种，ReadWriteOnce（被单个node读写）， ReadOnlyMany（被多个nodes读）， ReadWriteMany（被多个nodes读写）</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: PersistentVolume</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  labels:</span><br><span class=\"line\">    app: workspaces-pv</span><br><span class=\"line\">  name: workspaces-pv</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  accessModes:</span><br><span class=\"line\">  - ReadWriteMany</span><br><span class=\"line\">  capacity:</span><br><span class=\"line\">    storage: 5Gi</span><br><span class=\"line\">  claimRef:</span><br><span class=\"line\">    apiVersion: v1</span><br><span class=\"line\">    kind: PersistentVolumeClaim</span><br><span class=\"line\">    name: workspaces-pvc</span><br><span class=\"line\">    namespace: portal-nx</span><br><span class=\"line\">  nfs:</span><br><span class=\"line\">    path: /home/nfs/workspaces-pvc</span><br><span class=\"line\">    server: 192.168.3.149</span><br><span class=\"line\">  persistentVolumeReclaimPolicy: Retain</span><br><span class=\"line\">  volumeMode: Filesystem</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-2-PVC\">3.2. PVC</h2>\n<ul>\n<li>对pv或者storageclass资源的请求， pvc 对 pv 类比于pod 对不同的cpu， mem的请求。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: v1</span><br><span class=\"line\">kind: PersistentVolumeClaim</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  annotations:</span><br><span class=\"line\">    volume.beta.kubernetes.io/storage-provisioner: fuseim.pri/ifs</span><br><span class=\"line\">  name: mysql-data</span><br><span class=\"line\">  namespace: esp</span><br><span class=\"line\">spec:</span><br><span class=\"line\">  accessModes:</span><br><span class=\"line\">  - ReadWriteMany</span><br><span class=\"line\">  resources:</span><br><span class=\"line\">    requests:</span><br><span class=\"line\">      storage: 20Gi</span><br><span class=\"line\">  storageClassName: managed-nfs-storage</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-3-storageclass\">3.3. storageclass</h2>\n<ul>\n<li>另外一种提供存储资源的方式， 提供更多的层级选型， 如iops等参数。 但是具体的参数与提供方是绑定的。 如aws和gce它们提供的storageclass的参数可选项是有不同的。</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apiVersion: storage.k8s.io/v1</span><br><span class=\"line\">kind: StorageClass</span><br><span class=\"line\">metadata:</span><br><span class=\"line\">  name: managed-nfs-storage</span><br><span class=\"line\">parameters:</span><br><span class=\"line\">  archiveOnDelete: &quot;false&quot;</span><br><span class=\"line\">provisioner: fuseim.pri/ifs</span><br><span class=\"line\">reclaimPolicy: Delete</span><br><span class=\"line\">volumeBindingMode: Immediate</span><br></pre></td></tr></table></figure>\n"},{"_content":"# 4.2.资源控制\n\n - 在使用 docker 运行容器时，默认的情况下，docker没有对容器进行硬件资源的限制，当一台主机上运行几百个容器，这些容器虽然互相隔离，但是底层却使用着相同的 CPU、内存和磁盘资源。如果不对容器使用的资源进行限制，那么容器之间会互相影响，小的来说会导致容器资源使用不公平；大的来说，可能会导致主机和集群资源耗尽，服务完全不可用。\n### 4.2.1 内存cpu控制\n```shell\ndocker run --name stresscentos -itd -m 300m --cpus=0.5 centos-stress:v1.0\n\n  -m或--memory：设置内存的使用限额，例如 100M, 2G。\n  --memory-swap：设置内存+swap的使用限额\n ```\n\n![](assets/5.2.docker-resource-6c92d7e0.png)\n\n### 4.2.2 指定cpu\n```shell\ndocker run --name stresscentos -itd -m 300m --cpus=0.5 --cpuset-cpus 1,3 centos-stress:v1.0\n\n ```\n![](assets/5.2.docker-resource-036307e8.png)\n","source":"docker/4.2.docker-resource.md","raw":"# 4.2.资源控制\n\n - 在使用 docker 运行容器时，默认的情况下，docker没有对容器进行硬件资源的限制，当一台主机上运行几百个容器，这些容器虽然互相隔离，但是底层却使用着相同的 CPU、内存和磁盘资源。如果不对容器使用的资源进行限制，那么容器之间会互相影响，小的来说会导致容器资源使用不公平；大的来说，可能会导致主机和集群资源耗尽，服务完全不可用。\n### 4.2.1 内存cpu控制\n```shell\ndocker run --name stresscentos -itd -m 300m --cpus=0.5 centos-stress:v1.0\n\n  -m或--memory：设置内存的使用限额，例如 100M, 2G。\n  --memory-swap：设置内存+swap的使用限额\n ```\n\n![](assets/5.2.docker-resource-6c92d7e0.png)\n\n### 4.2.2 指定cpu\n```shell\ndocker run --name stresscentos -itd -m 300m --cpus=0.5 --cpuset-cpus 1,3 centos-stress:v1.0\n\n ```\n![](assets/5.2.docker-resource-036307e8.png)\n","date":"2021-07-17T06:24:51.402Z","updated":"2021-01-14T01:19:26.005Z","path":"docker/4.2.docker-resource.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tau000hpds60pnf5ctw","content":"<h1>4.2.资源控制</h1>\n<ul>\n<li>在使用 docker 运行容器时，默认的情况下，docker没有对容器进行硬件资源的限制，当一台主机上运行几百个容器，这些容器虽然互相隔离，但是底层却使用着相同的 CPU、内存和磁盘资源。如果不对容器使用的资源进行限制，那么容器之间会互相影响，小的来说会导致容器资源使用不公平；大的来说，可能会导致主机和集群资源耗尽，服务完全不可用。</li>\n</ul>\n<h3 id=\"4-2-1-内存cpu控制\">4.2.1 内存cpu控制</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --name stresscentos -itd -m 300m --cpus=0.5 centos-stress:v1.0</span><br><span class=\"line\"></span><br><span class=\"line\">  -m或--memory：设置内存的使用限额，例如 100M, 2G。</span><br><span class=\"line\">  --memory-swap：设置内存+swap的使用限额</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.2.docker-resource-6c92d7e0.png\" alt=\"\"></p>\n<h3 id=\"4-2-2-指定cpu\">4.2.2 指定cpu</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --name stresscentos -itd -m 300m --cpus=0.5 --cpuset-cpus 1,3 centos-stress:v1.0</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.2.docker-resource-036307e8.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>4.2.资源控制</h1>\n<ul>\n<li>在使用 docker 运行容器时，默认的情况下，docker没有对容器进行硬件资源的限制，当一台主机上运行几百个容器，这些容器虽然互相隔离，但是底层却使用着相同的 CPU、内存和磁盘资源。如果不对容器使用的资源进行限制，那么容器之间会互相影响，小的来说会导致容器资源使用不公平；大的来说，可能会导致主机和集群资源耗尽，服务完全不可用。</li>\n</ul>\n<h3 id=\"4-2-1-内存cpu控制\">4.2.1 内存cpu控制</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --name stresscentos -itd -m 300m --cpus=0.5 centos-stress:v1.0</span><br><span class=\"line\"></span><br><span class=\"line\">  -m或--memory：设置内存的使用限额，例如 100M, 2G。</span><br><span class=\"line\">  --memory-swap：设置内存+swap的使用限额</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.2.docker-resource-6c92d7e0.png\" alt=\"\"></p>\n<h3 id=\"4-2-2-指定cpu\">4.2.2 指定cpu</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --name stresscentos -itd -m 300m --cpus=0.5 --cpuset-cpus 1,3 centos-stress:v1.0</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.2.docker-resource-036307e8.png\" alt=\"\"></p>\n"},{"_content":"# 3.构建一个Docker应用程序\n\n","source":"docker/3.docker-practice.md","raw":"# 3.构建一个Docker应用程序\n\n","date":"2021-07-17T06:24:51.383Z","updated":"2021-01-14T01:19:26.034Z","path":"docker/3.docker-practice.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tav000ipds6fq46b2cz","content":"<h1>3.构建一个Docker应用程序</h1>\n","site":{"data":{}},"excerpt":"","more":"<h1>3.构建一个Docker应用程序</h1>\n"},{"_content":"# 4.1.容器监控\n\n### 1.docker ps 命令\n```shell\ndocker ps\n```\n![](assets/5.1.docker-monitor-980df022.png)\n```shell\ndocker ps -a\n```\n![](assets/5.1.docker-monitor-78f4468e.png)\n\n### 2.docker stats 命令\n\n```shell\ndocker stats 2caf69c6bb56\n```\n![](assets/5.1.docker-monitor-5ea2e6e9.png)\n\n### 3.docker inspect 命令\n\n```shell\ndocker inspect 2caf69c6bb56\n\n\n[\n    {\n        \"Id\": \"2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44\",\n        \"Created\": \"2020-06-24T06:30:10.97345785Z\",\n        \"Path\": \"/main\",\n        \"Args\": [],\n        \"State\": {\n            \"Status\": \"running\",\n            \"Running\": true,\n            \"Paused\": false,\n            \"Restarting\": false,\n            \"OOMKilled\": false,\n            \"Dead\": false,\n            \"Pid\": 18112,\n            \"ExitCode\": 0,\n            \"Error\": \"\",\n            \"StartedAt\": \"2020-06-24T06:30:11.382188297Z\",\n            \"FinishedAt\": \"0001-01-01T00:00:00Z\"\n        },\n        \"Image\": \"sha256:a7ec304e4215d981b7a007475c3bd95badd0434f1018ae55f7de482a2a366f05\",\n        \"ResolvConfPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/resolv.conf\",\n        \"HostnamePath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hostname\",\n        \"HostsPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hosts\",\n        \"LogPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44-json.log\",\n        \"Name\": \"/go-web-demo\",\n        \"RestartCount\": 0,\n        \"Driver\": \"overlay2\",\n        \"Platform\": \"linux\",\n        \"MountLabel\": \"\",\n        \"ProcessLabel\": \"\",\n        \"AppArmorProfile\": \"\",\n        \"ExecIDs\": null,\n        \"HostConfig\": {\n            \"Binds\": [\n                \"/etc/localtime:/etc/localtime\"\n            ],\n            \"ContainerIDFile\": \"\",\n            \"LogConfig\": {\n                \"Type\": \"json-file\",\n                \"Config\": {}\n            },\n            \"NetworkMode\": \"default\",\n            \"PortBindings\": {\n                \"80/tcp\": [\n                    {\n                        \"HostIp\": \"\",\n                        \"HostPort\": \"18070\"\n                    }\n                ]\n            },\n            \"RestartPolicy\": {\n                \"Name\": \"no\",\n                \"MaximumRetryCount\": 0\n            },\n            \"AutoRemove\": false,\n            \"VolumeDriver\": \"\",\n            \"VolumesFrom\": null,\n            \"CapAdd\": null,\n            \"CapDrop\": null,\n            \"Dns\": [],\n            \"DnsOptions\": [],\n            \"DnsSearch\": [],\n            \"ExtraHosts\": null,\n            \"GroupAdd\": null,\n            \"IpcMode\": \"shareable\",\n            \"Cgroup\": \"\",\n            \"Links\": null,\n            \"OomScoreAdj\": 0,\n            \"PidMode\": \"\",\n            \"Privileged\": false,\n            \"PublishAllPorts\": false,\n            \"ReadonlyRootfs\": false,\n            \"SecurityOpt\": null,\n            \"UTSMode\": \"\",\n            \"UsernsMode\": \"\",\n            \"ShmSize\": 67108864,\n            \"Runtime\": \"runc\",\n            \"ConsoleSize\": [\n                0,\n                0\n            ],\n            \"Isolation\": \"\",\n            \"CpuShares\": 0,\n            \"Memory\": 0,\n            \"NanoCpus\": 0,\n            \"CgroupParent\": \"\",\n            \"BlkioWeight\": 0,\n            \"BlkioWeightDevice\": [],\n            \"BlkioDeviceReadBps\": null,\n            \"BlkioDeviceWriteBps\": null,\n            \"BlkioDeviceReadIOps\": null,\n            \"BlkioDeviceWriteIOps\": null,\n            \"CpuPeriod\": 0,\n            \"CpuQuota\": 0,\n            \"CpuRealtimePeriod\": 0,\n            \"CpuRealtimeRuntime\": 0,\n            \"CpusetCpus\": \"\",\n            \"CpusetMems\": \"\",\n            \"Devices\": [],\n            \"DeviceCgroupRules\": null,\n            \"DiskQuota\": 0,\n            \"KernelMemory\": 0,\n            \"MemoryReservation\": 0,\n            \"MemorySwap\": 0,\n            \"MemorySwappiness\": null,\n            \"OomKillDisable\": false,\n            \"PidsLimit\": 0,\n            \"Ulimits\": null,\n            \"CpuCount\": 0,\n            \"CpuPercent\": 0,\n            \"IOMaximumIOps\": 0,\n            \"IOMaximumBandwidth\": 0,\n            \"MaskedPaths\": [\n                \"/proc/asound\",\n                \"/proc/acpi\",\n                \"/proc/kcore\",\n                \"/proc/keys\",\n                \"/proc/latency_stats\",\n                \"/proc/timer_list\",\n                \"/proc/timer_stats\",\n                \"/proc/sched_debug\",\n                \"/proc/scsi\",\n                \"/sys/firmware\"\n            ],\n            \"ReadonlyPaths\": [\n                \"/proc/bus\",\n                \"/proc/fs\",\n                \"/proc/irq\",\n                \"/proc/sys\",\n                \"/proc/sysrq-trigger\"\n            ]\n        },\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3-init/diff:/dockerdata/docker/overlay2/508a92d1a4cfee6eec3248e7cb97ce0b5387ef143f2530ad7bbcd06ae7bff21d/diff\",\n                \"MergedDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/merged\",\n                \"UpperDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/diff\",\n                \"WorkDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"Mounts\": [\n            {\n                \"Type\": \"bind\",\n                \"Source\": \"/etc/localtime\",\n                \"Destination\": \"/etc/localtime\",\n                \"Mode\": \"\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            }\n        ],\n        \"Config\": {\n            \"Hostname\": \"2caf69c6bb56\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": true,\n            \"OpenStdin\": true,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": null,\n            \"Image\": \"hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": [\n                \"/main\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {}\n        },\n        \"NetworkSettings\": {\n            \"Bridge\": \"\",\n            \"SandboxID\": \"456abdb15ec3c7bef11e42277b33078eab0f9ab46260f9641b8765718acc6856\",\n            \"HairpinMode\": false,\n            \"LinkLocalIPv6Address\": \"\",\n            \"LinkLocalIPv6PrefixLen\": 0,\n            \"Ports\": {\n                \"80/tcp\": [\n                    {\n                        \"HostIp\": \"0.0.0.0\",\n                        \"HostPort\": \"18070\"\n                    }\n                ]\n            },\n            \"SandboxKey\": \"/var/run/docker/netns/456abdb15ec3\",\n            \"SecondaryIPAddresses\": null,\n            \"SecondaryIPv6Addresses\": null,\n            \"EndpointID\": \"58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2\",\n            \"Gateway\": \"172.17.0.1\",\n            \"GlobalIPv6Address\": \"\",\n            \"GlobalIPv6PrefixLen\": 0,\n            \"IPAddress\": \"172.17.0.11\",\n            \"IPPrefixLen\": 16,\n            \"IPv6Gateway\": \"\",\n            \"MacAddress\": \"02:42:ac:11:00:0b\",\n            \"Networks\": {\n                \"bridge\": {\n                    \"IPAMConfig\": null,\n                    \"Links\": null,\n                    \"Aliases\": null,\n                    \"NetworkID\": \"9d46ad3db3d40d747de9772f7fa203e2db398fc7c96acc3f84bded8087ca709e\",\n                    \"EndpointID\": \"58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2\",\n                    \"Gateway\": \"172.17.0.1\",\n                    \"IPAddress\": \"172.17.0.11\",\n                    \"IPPrefixLen\": 16,\n                    \"IPv6Gateway\": \"\",\n                    \"GlobalIPv6Address\": \"\",\n                    \"GlobalIPv6PrefixLen\": 0,\n                    \"MacAddress\": \"02:42:ac:11:00:0b\",\n                    \"DriverOpts\": null\n                }\n            }\n        }\n    }\n]\n```\n### 4.docker top 命令 查看进程情况\n```shell\ndocker top 733626f653a3\n```\n![](assets/5.1.docker-monitor-963b5ef4.png)\n","source":"docker/4.1.docker-monitor.md","raw":"# 4.1.容器监控\n\n### 1.docker ps 命令\n```shell\ndocker ps\n```\n![](assets/5.1.docker-monitor-980df022.png)\n```shell\ndocker ps -a\n```\n![](assets/5.1.docker-monitor-78f4468e.png)\n\n### 2.docker stats 命令\n\n```shell\ndocker stats 2caf69c6bb56\n```\n![](assets/5.1.docker-monitor-5ea2e6e9.png)\n\n### 3.docker inspect 命令\n\n```shell\ndocker inspect 2caf69c6bb56\n\n\n[\n    {\n        \"Id\": \"2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44\",\n        \"Created\": \"2020-06-24T06:30:10.97345785Z\",\n        \"Path\": \"/main\",\n        \"Args\": [],\n        \"State\": {\n            \"Status\": \"running\",\n            \"Running\": true,\n            \"Paused\": false,\n            \"Restarting\": false,\n            \"OOMKilled\": false,\n            \"Dead\": false,\n            \"Pid\": 18112,\n            \"ExitCode\": 0,\n            \"Error\": \"\",\n            \"StartedAt\": \"2020-06-24T06:30:11.382188297Z\",\n            \"FinishedAt\": \"0001-01-01T00:00:00Z\"\n        },\n        \"Image\": \"sha256:a7ec304e4215d981b7a007475c3bd95badd0434f1018ae55f7de482a2a366f05\",\n        \"ResolvConfPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/resolv.conf\",\n        \"HostnamePath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hostname\",\n        \"HostsPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hosts\",\n        \"LogPath\": \"/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44-json.log\",\n        \"Name\": \"/go-web-demo\",\n        \"RestartCount\": 0,\n        \"Driver\": \"overlay2\",\n        \"Platform\": \"linux\",\n        \"MountLabel\": \"\",\n        \"ProcessLabel\": \"\",\n        \"AppArmorProfile\": \"\",\n        \"ExecIDs\": null,\n        \"HostConfig\": {\n            \"Binds\": [\n                \"/etc/localtime:/etc/localtime\"\n            ],\n            \"ContainerIDFile\": \"\",\n            \"LogConfig\": {\n                \"Type\": \"json-file\",\n                \"Config\": {}\n            },\n            \"NetworkMode\": \"default\",\n            \"PortBindings\": {\n                \"80/tcp\": [\n                    {\n                        \"HostIp\": \"\",\n                        \"HostPort\": \"18070\"\n                    }\n                ]\n            },\n            \"RestartPolicy\": {\n                \"Name\": \"no\",\n                \"MaximumRetryCount\": 0\n            },\n            \"AutoRemove\": false,\n            \"VolumeDriver\": \"\",\n            \"VolumesFrom\": null,\n            \"CapAdd\": null,\n            \"CapDrop\": null,\n            \"Dns\": [],\n            \"DnsOptions\": [],\n            \"DnsSearch\": [],\n            \"ExtraHosts\": null,\n            \"GroupAdd\": null,\n            \"IpcMode\": \"shareable\",\n            \"Cgroup\": \"\",\n            \"Links\": null,\n            \"OomScoreAdj\": 0,\n            \"PidMode\": \"\",\n            \"Privileged\": false,\n            \"PublishAllPorts\": false,\n            \"ReadonlyRootfs\": false,\n            \"SecurityOpt\": null,\n            \"UTSMode\": \"\",\n            \"UsernsMode\": \"\",\n            \"ShmSize\": 67108864,\n            \"Runtime\": \"runc\",\n            \"ConsoleSize\": [\n                0,\n                0\n            ],\n            \"Isolation\": \"\",\n            \"CpuShares\": 0,\n            \"Memory\": 0,\n            \"NanoCpus\": 0,\n            \"CgroupParent\": \"\",\n            \"BlkioWeight\": 0,\n            \"BlkioWeightDevice\": [],\n            \"BlkioDeviceReadBps\": null,\n            \"BlkioDeviceWriteBps\": null,\n            \"BlkioDeviceReadIOps\": null,\n            \"BlkioDeviceWriteIOps\": null,\n            \"CpuPeriod\": 0,\n            \"CpuQuota\": 0,\n            \"CpuRealtimePeriod\": 0,\n            \"CpuRealtimeRuntime\": 0,\n            \"CpusetCpus\": \"\",\n            \"CpusetMems\": \"\",\n            \"Devices\": [],\n            \"DeviceCgroupRules\": null,\n            \"DiskQuota\": 0,\n            \"KernelMemory\": 0,\n            \"MemoryReservation\": 0,\n            \"MemorySwap\": 0,\n            \"MemorySwappiness\": null,\n            \"OomKillDisable\": false,\n            \"PidsLimit\": 0,\n            \"Ulimits\": null,\n            \"CpuCount\": 0,\n            \"CpuPercent\": 0,\n            \"IOMaximumIOps\": 0,\n            \"IOMaximumBandwidth\": 0,\n            \"MaskedPaths\": [\n                \"/proc/asound\",\n                \"/proc/acpi\",\n                \"/proc/kcore\",\n                \"/proc/keys\",\n                \"/proc/latency_stats\",\n                \"/proc/timer_list\",\n                \"/proc/timer_stats\",\n                \"/proc/sched_debug\",\n                \"/proc/scsi\",\n                \"/sys/firmware\"\n            ],\n            \"ReadonlyPaths\": [\n                \"/proc/bus\",\n                \"/proc/fs\",\n                \"/proc/irq\",\n                \"/proc/sys\",\n                \"/proc/sysrq-trigger\"\n            ]\n        },\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3-init/diff:/dockerdata/docker/overlay2/508a92d1a4cfee6eec3248e7cb97ce0b5387ef143f2530ad7bbcd06ae7bff21d/diff\",\n                \"MergedDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/merged\",\n                \"UpperDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/diff\",\n                \"WorkDir\": \"/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"Mounts\": [\n            {\n                \"Type\": \"bind\",\n                \"Source\": \"/etc/localtime\",\n                \"Destination\": \"/etc/localtime\",\n                \"Mode\": \"\",\n                \"RW\": true,\n                \"Propagation\": \"rprivate\"\n            }\n        ],\n        \"Config\": {\n            \"Hostname\": \"2caf69c6bb56\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": true,\n            \"OpenStdin\": true,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": null,\n            \"Image\": \"hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": [\n                \"/main\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {}\n        },\n        \"NetworkSettings\": {\n            \"Bridge\": \"\",\n            \"SandboxID\": \"456abdb15ec3c7bef11e42277b33078eab0f9ab46260f9641b8765718acc6856\",\n            \"HairpinMode\": false,\n            \"LinkLocalIPv6Address\": \"\",\n            \"LinkLocalIPv6PrefixLen\": 0,\n            \"Ports\": {\n                \"80/tcp\": [\n                    {\n                        \"HostIp\": \"0.0.0.0\",\n                        \"HostPort\": \"18070\"\n                    }\n                ]\n            },\n            \"SandboxKey\": \"/var/run/docker/netns/456abdb15ec3\",\n            \"SecondaryIPAddresses\": null,\n            \"SecondaryIPv6Addresses\": null,\n            \"EndpointID\": \"58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2\",\n            \"Gateway\": \"172.17.0.1\",\n            \"GlobalIPv6Address\": \"\",\n            \"GlobalIPv6PrefixLen\": 0,\n            \"IPAddress\": \"172.17.0.11\",\n            \"IPPrefixLen\": 16,\n            \"IPv6Gateway\": \"\",\n            \"MacAddress\": \"02:42:ac:11:00:0b\",\n            \"Networks\": {\n                \"bridge\": {\n                    \"IPAMConfig\": null,\n                    \"Links\": null,\n                    \"Aliases\": null,\n                    \"NetworkID\": \"9d46ad3db3d40d747de9772f7fa203e2db398fc7c96acc3f84bded8087ca709e\",\n                    \"EndpointID\": \"58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2\",\n                    \"Gateway\": \"172.17.0.1\",\n                    \"IPAddress\": \"172.17.0.11\",\n                    \"IPPrefixLen\": 16,\n                    \"IPv6Gateway\": \"\",\n                    \"GlobalIPv6Address\": \"\",\n                    \"GlobalIPv6PrefixLen\": 0,\n                    \"MacAddress\": \"02:42:ac:11:00:0b\",\n                    \"DriverOpts\": null\n                }\n            }\n        }\n    }\n]\n```\n### 4.docker top 命令 查看进程情况\n```shell\ndocker top 733626f653a3\n```\n![](assets/5.1.docker-monitor-963b5ef4.png)\n","date":"2021-07-17T06:24:51.395Z","updated":"2021-01-14T01:19:26.001Z","path":"docker/4.1.docker-monitor.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tav000jpds6bt54ac67","content":"<h1>4.1.容器监控</h1>\n<h3 id=\"1-docker-ps-命令\">1.docker ps 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-980df022.png\" alt=\"\"></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps -a</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-78f4468e.png\" alt=\"\"></p>\n<h3 id=\"2-docker-stats-命令\">2.docker stats 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stats 2caf69c6bb56</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-5ea2e6e9.png\" alt=\"\"></p>\n<h3 id=\"3-docker-inspect-命令\">3.docker inspect 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect 2caf69c6bb56</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Id&quot;: &quot;2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2020-06-24T06:30:10.97345785Z&quot;,</span><br><span class=\"line\">        &quot;Path&quot;: &quot;/main&quot;,</span><br><span class=\"line\">        &quot;Args&quot;: [],</span><br><span class=\"line\">        &quot;State&quot;: &#123;</span><br><span class=\"line\">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class=\"line\">            &quot;Running&quot;: true,</span><br><span class=\"line\">            &quot;Paused&quot;: false,</span><br><span class=\"line\">            &quot;Restarting&quot;: false,</span><br><span class=\"line\">            &quot;OOMKilled&quot;: false,</span><br><span class=\"line\">            &quot;Dead&quot;: false,</span><br><span class=\"line\">            &quot;Pid&quot;: 18112,</span><br><span class=\"line\">            &quot;ExitCode&quot;: 0,</span><br><span class=\"line\">            &quot;Error&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;StartedAt&quot;: &quot;2020-06-24T06:30:11.382188297Z&quot;,</span><br><span class=\"line\">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Image&quot;: &quot;sha256:a7ec304e4215d981b7a007475c3bd95badd0434f1018ae55f7de482a2a366f05&quot;,</span><br><span class=\"line\">        &quot;ResolvConfPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/resolv.conf&quot;,</span><br><span class=\"line\">        &quot;HostnamePath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hostname&quot;,</span><br><span class=\"line\">        &quot;HostsPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hosts&quot;,</span><br><span class=\"line\">        &quot;LogPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44-json.log&quot;,</span><br><span class=\"line\">        &quot;Name&quot;: &quot;/go-web-demo&quot;,</span><br><span class=\"line\">        &quot;RestartCount&quot;: 0,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class=\"line\">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class=\"line\">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;AppArmorProfile&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;ExecIDs&quot;: null,</span><br><span class=\"line\">        &quot;HostConfig&quot;: &#123;</span><br><span class=\"line\">            &quot;Binds&quot;: [</span><br><span class=\"line\">                &quot;/etc/localtime:/etc/localtime&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;LogConfig&quot;: &#123;</span><br><span class=\"line\">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class=\"line\">                &quot;Config&quot;: &#123;&#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;NetworkMode&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;PortBindings&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        &quot;HostIp&quot;: &quot;&quot;,</span><br><span class=\"line\">                        &quot;HostPort&quot;: &quot;18070&quot;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                ]</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;RestartPolicy&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class=\"line\">                &quot;MaximumRetryCount&quot;: 0</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;AutoRemove&quot;: false,</span><br><span class=\"line\">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;VolumesFrom&quot;: null,</span><br><span class=\"line\">            &quot;CapAdd&quot;: null,</span><br><span class=\"line\">            &quot;CapDrop&quot;: null,</span><br><span class=\"line\">            &quot;Dns&quot;: [],</span><br><span class=\"line\">            &quot;DnsOptions&quot;: [],</span><br><span class=\"line\">            &quot;DnsSearch&quot;: [],</span><br><span class=\"line\">            &quot;ExtraHosts&quot;: null,</span><br><span class=\"line\">            &quot;GroupAdd&quot;: null,</span><br><span class=\"line\">            &quot;IpcMode&quot;: &quot;shareable&quot;,</span><br><span class=\"line\">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Links&quot;: null,</span><br><span class=\"line\">            &quot;OomScoreAdj&quot;: 0,</span><br><span class=\"line\">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Privileged&quot;: false,</span><br><span class=\"line\">            &quot;PublishAllPorts&quot;: false,</span><br><span class=\"line\">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class=\"line\">            &quot;SecurityOpt&quot;: null,</span><br><span class=\"line\">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;ShmSize&quot;: 67108864,</span><br><span class=\"line\">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class=\"line\">            &quot;ConsoleSize&quot;: [</span><br><span class=\"line\">                0,</span><br><span class=\"line\">                0</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;CpuShares&quot;: 0,</span><br><span class=\"line\">            &quot;Memory&quot;: 0,</span><br><span class=\"line\">            &quot;NanoCpus&quot;: 0,</span><br><span class=\"line\">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;BlkioWeight&quot;: 0,</span><br><span class=\"line\">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class=\"line\">            &quot;BlkioDeviceReadBps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceWriteBps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceReadIOps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceWriteIOps&quot;: null,</span><br><span class=\"line\">            &quot;CpuPeriod&quot;: 0,</span><br><span class=\"line\">            &quot;CpuQuota&quot;: 0,</span><br><span class=\"line\">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class=\"line\">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class=\"line\">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Devices&quot;: [],</span><br><span class=\"line\">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class=\"line\">            &quot;DiskQuota&quot;: 0,</span><br><span class=\"line\">            &quot;KernelMemory&quot;: 0,</span><br><span class=\"line\">            &quot;MemoryReservation&quot;: 0,</span><br><span class=\"line\">            &quot;MemorySwap&quot;: 0,</span><br><span class=\"line\">            &quot;MemorySwappiness&quot;: null,</span><br><span class=\"line\">            &quot;OomKillDisable&quot;: false,</span><br><span class=\"line\">            &quot;PidsLimit&quot;: 0,</span><br><span class=\"line\">            &quot;Ulimits&quot;: null,</span><br><span class=\"line\">            &quot;CpuCount&quot;: 0,</span><br><span class=\"line\">            &quot;CpuPercent&quot;: 0,</span><br><span class=\"line\">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class=\"line\">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class=\"line\">            &quot;MaskedPaths&quot;: [</span><br><span class=\"line\">                &quot;/proc/asound&quot;,</span><br><span class=\"line\">                &quot;/proc/acpi&quot;,</span><br><span class=\"line\">                &quot;/proc/kcore&quot;,</span><br><span class=\"line\">                &quot;/proc/keys&quot;,</span><br><span class=\"line\">                &quot;/proc/latency_stats&quot;,</span><br><span class=\"line\">                &quot;/proc/timer_list&quot;,</span><br><span class=\"line\">                &quot;/proc/timer_stats&quot;,</span><br><span class=\"line\">                &quot;/proc/sched_debug&quot;,</span><br><span class=\"line\">                &quot;/proc/scsi&quot;,</span><br><span class=\"line\">                &quot;/sys/firmware&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;ReadonlyPaths&quot;: [</span><br><span class=\"line\">                &quot;/proc/bus&quot;,</span><br><span class=\"line\">                &quot;/proc/fs&quot;,</span><br><span class=\"line\">                &quot;/proc/irq&quot;,</span><br><span class=\"line\">                &quot;/proc/sys&quot;,</span><br><span class=\"line\">                &quot;/proc/sysrq-trigger&quot;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;GraphDriver&quot;: &#123;</span><br><span class=\"line\">            &quot;Data&quot;: &#123;</span><br><span class=\"line\">                &quot;LowerDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3-init/diff:/dockerdata/docker/overlay2/508a92d1a4cfee6eec3248e7cb97ce0b5387ef143f2530ad7bbcd06ae7bff21d/diff&quot;,</span><br><span class=\"line\">                &quot;MergedDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/merged&quot;,</span><br><span class=\"line\">                &quot;UpperDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/diff&quot;,</span><br><span class=\"line\">                &quot;WorkDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/work&quot;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Mounts&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Type&quot;: &quot;bind&quot;,</span><br><span class=\"line\">                &quot;Source&quot;: &quot;/etc/localtime&quot;,</span><br><span class=\"line\">                &quot;Destination&quot;: &quot;/etc/localtime&quot;,</span><br><span class=\"line\">                &quot;Mode&quot;: &quot;&quot;,</span><br><span class=\"line\">                &quot;RW&quot;: true,</span><br><span class=\"line\">                &quot;Propagation&quot;: &quot;rprivate&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        &quot;Config&quot;: &#123;</span><br><span class=\"line\">            &quot;Hostname&quot;: &quot;2caf69c6bb56&quot;,</span><br><span class=\"line\">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;User&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;AttachStdin&quot;: false,</span><br><span class=\"line\">            &quot;AttachStdout&quot;: false,</span><br><span class=\"line\">            &quot;AttachStderr&quot;: false,</span><br><span class=\"line\">            &quot;ExposedPorts&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: &#123;&#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;Tty&quot;: true,</span><br><span class=\"line\">            &quot;OpenStdin&quot;: true,</span><br><span class=\"line\">            &quot;StdinOnce&quot;: false,</span><br><span class=\"line\">            &quot;Env&quot;: [</span><br><span class=\"line\">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;Cmd&quot;: null,</span><br><span class=\"line\">            &quot;Image&quot;: &quot;hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0&quot;,</span><br><span class=\"line\">            &quot;Volumes&quot;: null,</span><br><span class=\"line\">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Entrypoint&quot;: [</span><br><span class=\"line\">                &quot;/main&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;OnBuild&quot;: null,</span><br><span class=\"line\">            &quot;Labels&quot;: &#123;&#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;NetworkSettings&quot;: &#123;</span><br><span class=\"line\">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;SandboxID&quot;: &quot;456abdb15ec3c7bef11e42277b33078eab0f9ab46260f9641b8765718acc6856&quot;,</span><br><span class=\"line\">            &quot;HairpinMode&quot;: false,</span><br><span class=\"line\">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">            &quot;Ports&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        &quot;HostIp&quot;: &quot;0.0.0.0&quot;,</span><br><span class=\"line\">                        &quot;HostPort&quot;: &quot;18070&quot;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                ]</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/456abdb15ec3&quot;,</span><br><span class=\"line\">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class=\"line\">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class=\"line\">            &quot;EndpointID&quot;: &quot;58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2&quot;,</span><br><span class=\"line\">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class=\"line\">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">            &quot;IPAddress&quot;: &quot;172.17.0.11&quot;,</span><br><span class=\"line\">            &quot;IPPrefixLen&quot;: 16,</span><br><span class=\"line\">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:0b&quot;,</span><br><span class=\"line\">            &quot;Networks&quot;: &#123;</span><br><span class=\"line\">                &quot;bridge&quot;: &#123;</span><br><span class=\"line\">                    &quot;IPAMConfig&quot;: null,</span><br><span class=\"line\">                    &quot;Links&quot;: null,</span><br><span class=\"line\">                    &quot;Aliases&quot;: null,</span><br><span class=\"line\">                    &quot;NetworkID&quot;: &quot;9d46ad3db3d40d747de9772f7fa203e2db398fc7c96acc3f84bded8087ca709e&quot;,</span><br><span class=\"line\">                    &quot;EndpointID&quot;: &quot;58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class=\"line\">                    &quot;IPAddress&quot;: &quot;172.17.0.11&quot;,</span><br><span class=\"line\">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class=\"line\">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class=\"line\">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:0b&quot;,</span><br><span class=\"line\">                    &quot;DriverOpts&quot;: null</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-docker-top-命令-查看进程情况\">4.docker top 命令 查看进程情况</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker top 733626f653a3</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-963b5ef4.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1>4.1.容器监控</h1>\n<h3 id=\"1-docker-ps-命令\">1.docker ps 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-980df022.png\" alt=\"\"></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps -a</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-78f4468e.png\" alt=\"\"></p>\n<h3 id=\"2-docker-stats-命令\">2.docker stats 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stats 2caf69c6bb56</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-5ea2e6e9.png\" alt=\"\"></p>\n<h3 id=\"3-docker-inspect-命令\">3.docker inspect 命令</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect 2caf69c6bb56</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Id&quot;: &quot;2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2020-06-24T06:30:10.97345785Z&quot;,</span><br><span class=\"line\">        &quot;Path&quot;: &quot;/main&quot;,</span><br><span class=\"line\">        &quot;Args&quot;: [],</span><br><span class=\"line\">        &quot;State&quot;: &#123;</span><br><span class=\"line\">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class=\"line\">            &quot;Running&quot;: true,</span><br><span class=\"line\">            &quot;Paused&quot;: false,</span><br><span class=\"line\">            &quot;Restarting&quot;: false,</span><br><span class=\"line\">            &quot;OOMKilled&quot;: false,</span><br><span class=\"line\">            &quot;Dead&quot;: false,</span><br><span class=\"line\">            &quot;Pid&quot;: 18112,</span><br><span class=\"line\">            &quot;ExitCode&quot;: 0,</span><br><span class=\"line\">            &quot;Error&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;StartedAt&quot;: &quot;2020-06-24T06:30:11.382188297Z&quot;,</span><br><span class=\"line\">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Image&quot;: &quot;sha256:a7ec304e4215d981b7a007475c3bd95badd0434f1018ae55f7de482a2a366f05&quot;,</span><br><span class=\"line\">        &quot;ResolvConfPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/resolv.conf&quot;,</span><br><span class=\"line\">        &quot;HostnamePath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hostname&quot;,</span><br><span class=\"line\">        &quot;HostsPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/hosts&quot;,</span><br><span class=\"line\">        &quot;LogPath&quot;: &quot;/dockerdata/docker/containers/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44/2caf69c6bb56e1ae0081a4d923d4577cb393458de1f4e02e3d608dfdb4652b44-json.log&quot;,</span><br><span class=\"line\">        &quot;Name&quot;: &quot;/go-web-demo&quot;,</span><br><span class=\"line\">        &quot;RestartCount&quot;: 0,</span><br><span class=\"line\">        &quot;Driver&quot;: &quot;overlay2&quot;,</span><br><span class=\"line\">        &quot;Platform&quot;: &quot;linux&quot;,</span><br><span class=\"line\">        &quot;MountLabel&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;ProcessLabel&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;AppArmorProfile&quot;: &quot;&quot;,</span><br><span class=\"line\">        &quot;ExecIDs&quot;: null,</span><br><span class=\"line\">        &quot;HostConfig&quot;: &#123;</span><br><span class=\"line\">            &quot;Binds&quot;: [</span><br><span class=\"line\">                &quot;/etc/localtime:/etc/localtime&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;ContainerIDFile&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;LogConfig&quot;: &#123;</span><br><span class=\"line\">                &quot;Type&quot;: &quot;json-file&quot;,</span><br><span class=\"line\">                &quot;Config&quot;: &#123;&#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;NetworkMode&quot;: &quot;default&quot;,</span><br><span class=\"line\">            &quot;PortBindings&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        &quot;HostIp&quot;: &quot;&quot;,</span><br><span class=\"line\">                        &quot;HostPort&quot;: &quot;18070&quot;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                ]</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;RestartPolicy&quot;: &#123;</span><br><span class=\"line\">                &quot;Name&quot;: &quot;no&quot;,</span><br><span class=\"line\">                &quot;MaximumRetryCount&quot;: 0</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;AutoRemove&quot;: false,</span><br><span class=\"line\">            &quot;VolumeDriver&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;VolumesFrom&quot;: null,</span><br><span class=\"line\">            &quot;CapAdd&quot;: null,</span><br><span class=\"line\">            &quot;CapDrop&quot;: null,</span><br><span class=\"line\">            &quot;Dns&quot;: [],</span><br><span class=\"line\">            &quot;DnsOptions&quot;: [],</span><br><span class=\"line\">            &quot;DnsSearch&quot;: [],</span><br><span class=\"line\">            &quot;ExtraHosts&quot;: null,</span><br><span class=\"line\">            &quot;GroupAdd&quot;: null,</span><br><span class=\"line\">            &quot;IpcMode&quot;: &quot;shareable&quot;,</span><br><span class=\"line\">            &quot;Cgroup&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Links&quot;: null,</span><br><span class=\"line\">            &quot;OomScoreAdj&quot;: 0,</span><br><span class=\"line\">            &quot;PidMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Privileged&quot;: false,</span><br><span class=\"line\">            &quot;PublishAllPorts&quot;: false,</span><br><span class=\"line\">            &quot;ReadonlyRootfs&quot;: false,</span><br><span class=\"line\">            &quot;SecurityOpt&quot;: null,</span><br><span class=\"line\">            &quot;UTSMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;UsernsMode&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;ShmSize&quot;: 67108864,</span><br><span class=\"line\">            &quot;Runtime&quot;: &quot;runc&quot;,</span><br><span class=\"line\">            &quot;ConsoleSize&quot;: [</span><br><span class=\"line\">                0,</span><br><span class=\"line\">                0</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;Isolation&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;CpuShares&quot;: 0,</span><br><span class=\"line\">            &quot;Memory&quot;: 0,</span><br><span class=\"line\">            &quot;NanoCpus&quot;: 0,</span><br><span class=\"line\">            &quot;CgroupParent&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;BlkioWeight&quot;: 0,</span><br><span class=\"line\">            &quot;BlkioWeightDevice&quot;: [],</span><br><span class=\"line\">            &quot;BlkioDeviceReadBps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceWriteBps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceReadIOps&quot;: null,</span><br><span class=\"line\">            &quot;BlkioDeviceWriteIOps&quot;: null,</span><br><span class=\"line\">            &quot;CpuPeriod&quot;: 0,</span><br><span class=\"line\">            &quot;CpuQuota&quot;: 0,</span><br><span class=\"line\">            &quot;CpuRealtimePeriod&quot;: 0,</span><br><span class=\"line\">            &quot;CpuRealtimeRuntime&quot;: 0,</span><br><span class=\"line\">            &quot;CpusetCpus&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;CpusetMems&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Devices&quot;: [],</span><br><span class=\"line\">            &quot;DeviceCgroupRules&quot;: null,</span><br><span class=\"line\">            &quot;DiskQuota&quot;: 0,</span><br><span class=\"line\">            &quot;KernelMemory&quot;: 0,</span><br><span class=\"line\">            &quot;MemoryReservation&quot;: 0,</span><br><span class=\"line\">            &quot;MemorySwap&quot;: 0,</span><br><span class=\"line\">            &quot;MemorySwappiness&quot;: null,</span><br><span class=\"line\">            &quot;OomKillDisable&quot;: false,</span><br><span class=\"line\">            &quot;PidsLimit&quot;: 0,</span><br><span class=\"line\">            &quot;Ulimits&quot;: null,</span><br><span class=\"line\">            &quot;CpuCount&quot;: 0,</span><br><span class=\"line\">            &quot;CpuPercent&quot;: 0,</span><br><span class=\"line\">            &quot;IOMaximumIOps&quot;: 0,</span><br><span class=\"line\">            &quot;IOMaximumBandwidth&quot;: 0,</span><br><span class=\"line\">            &quot;MaskedPaths&quot;: [</span><br><span class=\"line\">                &quot;/proc/asound&quot;,</span><br><span class=\"line\">                &quot;/proc/acpi&quot;,</span><br><span class=\"line\">                &quot;/proc/kcore&quot;,</span><br><span class=\"line\">                &quot;/proc/keys&quot;,</span><br><span class=\"line\">                &quot;/proc/latency_stats&quot;,</span><br><span class=\"line\">                &quot;/proc/timer_list&quot;,</span><br><span class=\"line\">                &quot;/proc/timer_stats&quot;,</span><br><span class=\"line\">                &quot;/proc/sched_debug&quot;,</span><br><span class=\"line\">                &quot;/proc/scsi&quot;,</span><br><span class=\"line\">                &quot;/sys/firmware&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;ReadonlyPaths&quot;: [</span><br><span class=\"line\">                &quot;/proc/bus&quot;,</span><br><span class=\"line\">                &quot;/proc/fs&quot;,</span><br><span class=\"line\">                &quot;/proc/irq&quot;,</span><br><span class=\"line\">                &quot;/proc/sys&quot;,</span><br><span class=\"line\">                &quot;/proc/sysrq-trigger&quot;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;GraphDriver&quot;: &#123;</span><br><span class=\"line\">            &quot;Data&quot;: &#123;</span><br><span class=\"line\">                &quot;LowerDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3-init/diff:/dockerdata/docker/overlay2/508a92d1a4cfee6eec3248e7cb97ce0b5387ef143f2530ad7bbcd06ae7bff21d/diff&quot;,</span><br><span class=\"line\">                &quot;MergedDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/merged&quot;,</span><br><span class=\"line\">                &quot;UpperDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/diff&quot;,</span><br><span class=\"line\">                &quot;WorkDir&quot;: &quot;/dockerdata/docker/overlay2/895f0164e245f5597256458910180049d892df1e33bc5c66685857891f6d3fd3/work&quot;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;Name&quot;: &quot;overlay2&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;Mounts&quot;: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &quot;Type&quot;: &quot;bind&quot;,</span><br><span class=\"line\">                &quot;Source&quot;: &quot;/etc/localtime&quot;,</span><br><span class=\"line\">                &quot;Destination&quot;: &quot;/etc/localtime&quot;,</span><br><span class=\"line\">                &quot;Mode&quot;: &quot;&quot;,</span><br><span class=\"line\">                &quot;RW&quot;: true,</span><br><span class=\"line\">                &quot;Propagation&quot;: &quot;rprivate&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        &quot;Config&quot;: &#123;</span><br><span class=\"line\">            &quot;Hostname&quot;: &quot;2caf69c6bb56&quot;,</span><br><span class=\"line\">            &quot;Domainname&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;User&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;AttachStdin&quot;: false,</span><br><span class=\"line\">            &quot;AttachStdout&quot;: false,</span><br><span class=\"line\">            &quot;AttachStderr&quot;: false,</span><br><span class=\"line\">            &quot;ExposedPorts&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: &#123;&#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;Tty&quot;: true,</span><br><span class=\"line\">            &quot;OpenStdin&quot;: true,</span><br><span class=\"line\">            &quot;StdinOnce&quot;: false,</span><br><span class=\"line\">            &quot;Env&quot;: [</span><br><span class=\"line\">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;Cmd&quot;: null,</span><br><span class=\"line\">            &quot;Image&quot;: &quot;hub.aosccs.com.cn:8888/test1/go-web-demo:v1.0&quot;,</span><br><span class=\"line\">            &quot;Volumes&quot;: null,</span><br><span class=\"line\">            &quot;WorkingDir&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;Entrypoint&quot;: [</span><br><span class=\"line\">                &quot;/main&quot;</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            &quot;OnBuild&quot;: null,</span><br><span class=\"line\">            &quot;Labels&quot;: &#123;&#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;NetworkSettings&quot;: &#123;</span><br><span class=\"line\">            &quot;Bridge&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;SandboxID&quot;: &quot;456abdb15ec3c7bef11e42277b33078eab0f9ab46260f9641b8765718acc6856&quot;,</span><br><span class=\"line\">            &quot;HairpinMode&quot;: false,</span><br><span class=\"line\">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">            &quot;Ports&quot;: &#123;</span><br><span class=\"line\">                &quot;80/tcp&quot;: [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        &quot;HostIp&quot;: &quot;0.0.0.0&quot;,</span><br><span class=\"line\">                        &quot;HostPort&quot;: &quot;18070&quot;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                ]</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/456abdb15ec3&quot;,</span><br><span class=\"line\">            &quot;SecondaryIPAddresses&quot;: null,</span><br><span class=\"line\">            &quot;SecondaryIPv6Addresses&quot;: null,</span><br><span class=\"line\">            &quot;EndpointID&quot;: &quot;58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2&quot;,</span><br><span class=\"line\">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class=\"line\">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">            &quot;IPAddress&quot;: &quot;172.17.0.11&quot;,</span><br><span class=\"line\">            &quot;IPPrefixLen&quot;: 16,</span><br><span class=\"line\">            &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class=\"line\">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:0b&quot;,</span><br><span class=\"line\">            &quot;Networks&quot;: &#123;</span><br><span class=\"line\">                &quot;bridge&quot;: &#123;</span><br><span class=\"line\">                    &quot;IPAMConfig&quot;: null,</span><br><span class=\"line\">                    &quot;Links&quot;: null,</span><br><span class=\"line\">                    &quot;Aliases&quot;: null,</span><br><span class=\"line\">                    &quot;NetworkID&quot;: &quot;9d46ad3db3d40d747de9772f7fa203e2db398fc7c96acc3f84bded8087ca709e&quot;,</span><br><span class=\"line\">                    &quot;EndpointID&quot;: &quot;58b84ac1ea19693b26e71bf4fde9b74d54244da51a7f650bd50564a6704e56c2&quot;,</span><br><span class=\"line\">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</span><br><span class=\"line\">                    &quot;IPAddress&quot;: &quot;172.17.0.11&quot;,</span><br><span class=\"line\">                    &quot;IPPrefixLen&quot;: 16,</span><br><span class=\"line\">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</span><br><span class=\"line\">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</span><br><span class=\"line\">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</span><br><span class=\"line\">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:0b&quot;,</span><br><span class=\"line\">                    &quot;DriverOpts&quot;: null</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-docker-top-命令-查看进程情况\">4.docker top 命令 查看进程情况</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker top 733626f653a3</span><br></pre></td></tr></table></figure>\n<p><img src=\"assets/5.1.docker-monitor-963b5ef4.png\" alt=\"\"></p>\n"},{"_content":"# 4.容器诊断\n","source":"docker/4.docker-diagnose.md","raw":"# 4.容器诊断\n","date":"2021-07-17T06:24:51.407Z","updated":"2021-01-14T01:19:26.008Z","path":"docker/4.docker-diagnose.html","title":"","comments":1,"layout":"page","_id":"ckr8m9taw000kpds6dktoe33u","content":"<h1>4.容器诊断</h1>\n","site":{"data":{}},"excerpt":"","more":"<h1>4.容器诊断</h1>\n"},{"_content":"\n# Docker 培训\n\n(assets/README-52116020.png)\n* [Introduction](README.md)\n* [1.Docker架构](1.docker-infrustructure.md)\n* [2.Docker底层原理](2.what-docker-todo.md)\n* [3.构建一个Docker应用程序](3.docker-practice.md)\n    * [3.1.Docker镜像构建](3.1.docker-build.md)\n        * [3.1.1 场景一、命令行构建](3.1.1docker-build-client.md)\n        * [3.1.2 场景二、Dockerfile构建](3.1.2docker-build-dockerfile.md)\n    * [3.2.微服务应用构建](3.2.docker-build-cloud.md)\n    * [3.3.war包应用构建](3.3.docker-build-war.md)\n    * [3.4.前端应用构建](3.4.docker-build-npm.md)\n    * [3.5.go应用构建](3.5.docker-build-go.md)\n    * [3.6.Docker镜像文件编写技巧](3.6.docker-build-skill.md)\n* [4.容器诊断](4.docker-diagnose.md)\n    * [4.1.容器监控](4.1.docker-monitor.md)\n    * [4.2.资源控制](4.2.docker-resource.md)\n\n-----\n# 容器云\n* [1.在k8s中CI/CD的实现方式](1.ccs-in-k8s)\n* [2.在k8s对数据库对支持](2.database-in-k8s.md)\n* [3.在k8s持久化存储](3.storage-in-k8s.md)\n","source":"docker/README.md","raw":"\n# Docker 培训\n\n(assets/README-52116020.png)\n* [Introduction](README.md)\n* [1.Docker架构](1.docker-infrustructure.md)\n* [2.Docker底层原理](2.what-docker-todo.md)\n* [3.构建一个Docker应用程序](3.docker-practice.md)\n    * [3.1.Docker镜像构建](3.1.docker-build.md)\n        * [3.1.1 场景一、命令行构建](3.1.1docker-build-client.md)\n        * [3.1.2 场景二、Dockerfile构建](3.1.2docker-build-dockerfile.md)\n    * [3.2.微服务应用构建](3.2.docker-build-cloud.md)\n    * [3.3.war包应用构建](3.3.docker-build-war.md)\n    * [3.4.前端应用构建](3.4.docker-build-npm.md)\n    * [3.5.go应用构建](3.5.docker-build-go.md)\n    * [3.6.Docker镜像文件编写技巧](3.6.docker-build-skill.md)\n* [4.容器诊断](4.docker-diagnose.md)\n    * [4.1.容器监控](4.1.docker-monitor.md)\n    * [4.2.资源控制](4.2.docker-resource.md)\n\n-----\n# 容器云\n* [1.在k8s中CI/CD的实现方式](1.ccs-in-k8s)\n* [2.在k8s对数据库对支持](2.database-in-k8s.md)\n* [3.在k8s持久化存储](3.storage-in-k8s.md)\n","date":"2021-07-17T08:04:08.527Z","updated":"2021-07-17T08:04:08.527Z","path":"docker/README.html","title":"","comments":1,"layout":"page","_id":"ckr8m9tax000lpds6ebdq93p9","content":"<h1>Docker 培训</h1>\n<p>(assets/README-52116020.png)</p>\n<ul>\n<li><a href=\"README.md\">Introduction</a></li>\n<li><a href=\"1.docker-infrustructure.md\">1.Docker架构</a></li>\n<li><a href=\"2.what-docker-todo.md\">2.Docker底层原理</a></li>\n<li><a href=\"3.docker-practice.md\">3.构建一个Docker应用程序</a>\n<ul>\n<li><a href=\"3.1.docker-build.md\">3.1.Docker镜像构建</a>\n<ul>\n<li><a href=\"3.1.1docker-build-client.md\">3.1.1 场景一、命令行构建</a></li>\n<li><a href=\"3.1.2docker-build-dockerfile.md\">3.1.2 场景二、Dockerfile构建</a></li>\n</ul>\n</li>\n<li><a href=\"3.2.docker-build-cloud.md\">3.2.微服务应用构建</a></li>\n<li><a href=\"3.3.docker-build-war.md\">3.3.war包应用构建</a></li>\n<li><a href=\"3.4.docker-build-npm.md\">3.4.前端应用构建</a></li>\n<li><a href=\"3.5.docker-build-go.md\">3.5.go应用构建</a></li>\n<li><a href=\"3.6.docker-build-skill.md\">3.6.Docker镜像文件编写技巧</a></li>\n</ul>\n</li>\n<li><a href=\"4.docker-diagnose.md\">4.容器诊断</a>\n<ul>\n<li><a href=\"4.1.docker-monitor.md\">4.1.容器监控</a></li>\n<li><a href=\"4.2.docker-resource.md\">4.2.资源控制</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1>容器云</h1>\n<ul>\n<li><a href=\"1.ccs-in-k8s\">1.在k8s中CI/CD的实现方式</a></li>\n<li><a href=\"2.database-in-k8s.md\">2.在k8s对数据库对支持</a></li>\n<li><a href=\"3.storage-in-k8s.md\">3.在k8s持久化存储</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1>Docker 培训</h1>\n<p>(assets/README-52116020.png)</p>\n<ul>\n<li><a href=\"README.md\">Introduction</a></li>\n<li><a href=\"1.docker-infrustructure.md\">1.Docker架构</a></li>\n<li><a href=\"2.what-docker-todo.md\">2.Docker底层原理</a></li>\n<li><a href=\"3.docker-practice.md\">3.构建一个Docker应用程序</a>\n<ul>\n<li><a href=\"3.1.docker-build.md\">3.1.Docker镜像构建</a>\n<ul>\n<li><a href=\"3.1.1docker-build-client.md\">3.1.1 场景一、命令行构建</a></li>\n<li><a href=\"3.1.2docker-build-dockerfile.md\">3.1.2 场景二、Dockerfile构建</a></li>\n</ul>\n</li>\n<li><a href=\"3.2.docker-build-cloud.md\">3.2.微服务应用构建</a></li>\n<li><a href=\"3.3.docker-build-war.md\">3.3.war包应用构建</a></li>\n<li><a href=\"3.4.docker-build-npm.md\">3.4.前端应用构建</a></li>\n<li><a href=\"3.5.docker-build-go.md\">3.5.go应用构建</a></li>\n<li><a href=\"3.6.docker-build-skill.md\">3.6.Docker镜像文件编写技巧</a></li>\n</ul>\n</li>\n<li><a href=\"4.docker-diagnose.md\">4.容器诊断</a>\n<ul>\n<li><a href=\"4.1.docker-monitor.md\">4.1.容器监控</a></li>\n<li><a href=\"4.2.docker-resource.md\">4.2.资源控制</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1>容器云</h1>\n<ul>\n<li><a href=\"1.ccs-in-k8s\">1.在k8s中CI/CD的实现方式</a></li>\n<li><a href=\"2.database-in-k8s.md\">2.在k8s对数据库对支持</a></li>\n<li><a href=\"3.storage-in-k8s.md\">3.在k8s持久化存储</a></li>\n</ul>\n"},{"title":"My New Post","date":"2021-07-16T15:12:08.000Z","tags":null,"_content":"\n## 第一章\n内容1\n## 第二章\n内容2\n## 第三章\n内容3\n\n","source":"docker/My-New-Post.md","raw":"---\ntitle: My New Post\ndate: 2021-07-16 23:12:08\ntags:\n---\n\n## 第一章\n内容1\n## 第二章\n内容2\n## 第三章\n内容3\n\n","updated":"2021-07-16T16:25:16.759Z","path":"docker/My-New-Post.html","comments":1,"layout":"page","_id":"ckr8m9tay000mpds6ddaecgrq","content":"<h2 id=\"第一章\">第一章</h2>\n<p>内容1</p>\n<h2 id=\"第二章\">第二章</h2>\n<p>内容2</p>\n<h2 id=\"第三章\">第三章</h2>\n<p>内容3</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"第一章\">第一章</h2>\n<p>内容1</p>\n<h2 id=\"第二章\">第二章</h2>\n<p>内容2</p>\n<h2 id=\"第三章\">第三章</h2>\n<p>内容3</p>\n"}],"Post":[{"title":"My New Post","date":"2021-07-16T15:12:08.000Z","_content":"\n## 第一章\n内容1\n## 第二章\n内容2\n## 第三章\n内容3\n\n","source":"_posts/My-New-Post.md","raw":"---\ntitle: My New Post\ndate: 2021-07-16 23:12:08\ntags:\n---\n\n## 第一章\n内容1\n## 第二章\n内容2\n## 第三章\n内容3\n\n","slug":"My-New-Post","published":1,"updated":"2021-07-16T15:13:09.444Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckr8m9ta80001pds6dr3gfwi2","content":"<h2 id=\"第一章\">第一章</h2>\n<p>内容1</p>\n<h2 id=\"第二章\">第二章</h2>\n<p>内容2</p>\n<h2 id=\"第三章\">第三章</h2>\n<p>内容3</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"第一章\">第一章</h2>\n<p>内容1</p>\n<h2 id=\"第二章\">第二章</h2>\n<p>内容2</p>\n<h2 id=\"第三章\">第三章</h2>\n<p>内容3</p>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2021-07-16T15:10:58.815Z","updated":"2021-07-16T15:10:58.815Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckr8m9tac0003pds63plm3zsx","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\">Quick Start</h2>\n<h3 id=\"Create-a-new-post\">Create a new post</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\">Run server</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\">Generate static files</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\">Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\">Quick Start</h2>\n<h3 id=\"Create-a-new-post\">Create a new post</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\">Run server</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\">Generate static files</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\">Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}